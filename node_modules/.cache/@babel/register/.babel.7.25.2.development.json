{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _categories = require(\"./meditations/categories\");\nvar _expressFileupload = _interopRequireDefault(require(\"express-fileupload\"));\nvar _meditations = require(\"./meditations/meditations\");\nvar _messages = require(\"./messages/messages\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst app = (0, _express.default)();\napp.use((0, _expressFileupload.default)());\napp.use((0, _express.json)());\napp.use((0, _cors.default)());\nconst PORT = process.env.PORT || 3001;\napp.post(\"/addMedCat\", _categories.addMedCat);\napp.get(\"/getAllMedCats\", _categories.getAllMedCats);\napp.get(\"/getMedCatById/:id\", _categories.getMedCatById);\napp.post(\"/deleteMedCatById\", _categories.deleteMedCatById);\napp.post(\"/addMedToCat\", _meditations.addMedToCat);\napp.post(\"/deleteMedFromCat\", _meditations.deleteMedFromCat);\napp.get(\"/getMedFromCatById/:uid/:id\", _meditations.getMedFromCatById);\napp.post(\"/addMessage\", _messages.addMessage);\napp.get(\"/getAllMessages\", _messages.getAllMessages);\napp.get(\"/getMessageById/:id\", _messages.getMessageById);\napp.post(\"/deleteMessage\", _messages.deleteMessage);\n\n// async (req, res) => {\n//   (req, res);\n//   res.json({ status: true, message: \"Our node.js app works\" });\n// });\n\napp.listen(PORT, () => console.log(`App listening at port ${PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9jb3JzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jYXRlZ29yaWVzIiwiX2V4cHJlc3NGaWxldXBsb2FkIiwiX21lZGl0YXRpb25zIiwiX21lc3NhZ2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsInIiLCJ0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImZpbGVVcGxvYWQiLCJqc29uIiwiY29ycyIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwicG9zdCIsImFkZE1lZENhdCIsImdldEFsbE1lZENhdHMiLCJnZXRNZWRDYXRCeUlkIiwiZGVsZXRlTWVkQ2F0QnlJZCIsImFkZE1lZFRvQ2F0IiwiZGVsZXRlTWVkRnJvbUNhdCIsImdldE1lZEZyb21DYXRCeUlkIiwiYWRkTWVzc2FnZSIsImdldEFsbE1lc3NhZ2VzIiwiZ2V0TWVzc2FnZUJ5SWQiLCJkZWxldGVNZXNzYWdlIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiRDpcXHplbl9iYWNrXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcywgeyBqc29uIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxuaW1wb3J0IHtcclxuICBhZGRNZWRDYXQsXHJcbiAgZ2V0QWxsTWVkQ2F0cyxcclxuICBnZXRNZWRDYXRCeUlkLFxyXG4gIGRlbGV0ZU1lZENhdEJ5SWQsXHJcbn0gZnJvbSBcIi4vbWVkaXRhdGlvbnMvY2F0ZWdvcmllc1wiO1xyXG5pbXBvcnQgZmlsZVVwbG9hZCBmcm9tIFwiZXhwcmVzcy1maWxldXBsb2FkXCI7XHJcbmltcG9ydCB7XHJcbiAgYWRkTWVkVG9DYXQsXHJcbiAgZGVsZXRlTWVkRnJvbUNhdCxcclxuICBnZXRNZWRGcm9tQ2F0QnlJZCxcclxufSBmcm9tIFwiLi9tZWRpdGF0aW9ucy9tZWRpdGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBhZGRNZXNzYWdlLCBkZWxldGVNZXNzYWdlLCBnZXRBbGxNZXNzYWdlcywgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tIFwiLi9tZXNzYWdlcy9tZXNzYWdlc1wiO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG5hcHAudXNlKGZpbGVVcGxvYWQoKSk7XHJcbmFwcC51c2UoanNvbigpKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMTtcclxuXHJcbmFwcC5wb3N0KFwiL2FkZE1lZENhdFwiLCBhZGRNZWRDYXQpO1xyXG5hcHAuZ2V0KFwiL2dldEFsbE1lZENhdHNcIiwgZ2V0QWxsTWVkQ2F0cyk7XHJcbmFwcC5nZXQoXCIvZ2V0TWVkQ2F0QnlJZC86aWRcIiwgZ2V0TWVkQ2F0QnlJZCk7XHJcbmFwcC5wb3N0KFwiL2RlbGV0ZU1lZENhdEJ5SWRcIiwgZGVsZXRlTWVkQ2F0QnlJZCk7XHJcblxyXG5hcHAucG9zdChcIi9hZGRNZWRUb0NhdFwiLCBhZGRNZWRUb0NhdCk7XHJcbmFwcC5wb3N0KFwiL2RlbGV0ZU1lZEZyb21DYXRcIiwgZGVsZXRlTWVkRnJvbUNhdCk7XHJcbmFwcC5nZXQoXCIvZ2V0TWVkRnJvbUNhdEJ5SWQvOnVpZC86aWRcIiwgZ2V0TWVkRnJvbUNhdEJ5SWQpO1xyXG5cclxuYXBwLnBvc3QoXCIvYWRkTWVzc2FnZVwiLCBhZGRNZXNzYWdlKTtcclxuYXBwLmdldChcIi9nZXRBbGxNZXNzYWdlc1wiLCBnZXRBbGxNZXNzYWdlcylcclxuYXBwLmdldChcIi9nZXRNZXNzYWdlQnlJZC86aWRcIiwgZ2V0TWVzc2FnZUJ5SWQpXHJcbmFwcC5wb3N0KFwiL2RlbGV0ZU1lc3NhZ2VcIiwgZGVsZXRlTWVzc2FnZSlcclxuXHJcbi8vIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgIChyZXEsIHJlcyk7XHJcbi8vICAgcmVzLmpzb24oeyBzdGF0dXM6IHRydWUsIG1lc3NhZ2U6IFwiT3VyIG5vZGUuanMgYXBwIHdvcmtzXCIgfSk7XHJcbi8vIH0pO1xyXG5cclxuYXBwLmxpc3RlbihQT1JULCAoKSA9PiBjb25zb2xlLmxvZyhgQXBwIGxpc3RlbmluZyBhdCBwb3J0ICR7UE9SVH1gKSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFNQSxJQUFBSSxrQkFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUssWUFBQSxHQUFBTCxPQUFBO0FBS0EsSUFBQU0sU0FBQSxHQUFBTixPQUFBO0FBQWdHLFNBQUFFLHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsU0FBQUcseUJBQUFILENBQUEsNkJBQUFJLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUQsd0JBQUEsWUFBQUEsQ0FBQUgsQ0FBQSxXQUFBQSxDQUFBLEdBQUFNLENBQUEsR0FBQUQsQ0FBQSxLQUFBTCxDQUFBO0FBQUEsU0FBQVIsd0JBQUFRLENBQUEsRUFBQUssQ0FBQSxTQUFBQSxDQUFBLElBQUFMLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLFNBQUFELENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBRSxPQUFBLEVBQUFG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","map":{"version":3,"names":["_express","_interopRequireWildcard","require","_cors","_interopRequireDefault","_categories","_expressFileupload","_meditations","_messages","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","app","express","use","fileUpload","json","cors","PORT","process","env","post","addMedCat","getAllMedCats","getMedCatById","deleteMedCatById","addMedToCat","deleteMedFromCat","getMedFromCatById","addMessage","getAllMessages","getMessageById","deleteMessage","listen","console","log"],"sourceRoot":"D:\\zen_back\\","sources":["server.js"],"sourcesContent":["import express, { json } from \"express\";\r\nimport cors from \"cors\";\r\nimport {\r\n  addMedCat,\r\n  getAllMedCats,\r\n  getMedCatById,\r\n  deleteMedCatById,\r\n} from \"./meditations/categories\";\r\nimport fileUpload from \"express-fileupload\";\r\nimport {\r\n  addMedToCat,\r\n  deleteMedFromCat,\r\n  getMedFromCatById,\r\n} from \"./meditations/meditations\";\r\nimport { addMessage, deleteMessage, getAllMessages, getMessageById } from \"./messages/messages\";\r\nconst app = express();\r\n\r\napp.use(fileUpload());\r\napp.use(json());\r\napp.use(cors());\r\n\r\nconst PORT = process.env.PORT || 3001;\r\n\r\napp.post(\"/addMedCat\", addMedCat);\r\napp.get(\"/getAllMedCats\", getAllMedCats);\r\napp.get(\"/getMedCatById/:id\", getMedCatById);\r\napp.post(\"/deleteMedCatById\", deleteMedCatById);\r\n\r\napp.post(\"/addMedToCat\", addMedToCat);\r\napp.post(\"/deleteMedFromCat\", deleteMedFromCat);\r\napp.get(\"/getMedFromCatById/:uid/:id\", getMedFromCatById);\r\n\r\napp.post(\"/addMessage\", addMessage);\r\napp.get(\"/getAllMessages\", getAllMessages)\r\napp.get(\"/getMessageById/:id\", getMessageById)\r\napp.post(\"/deleteMessage\", deleteMessage)\r\n\r\n// async (req, res) => {\r\n//   (req, res);\r\n//   res.json({ status: true, message: \"Our node.js app works\" });\r\n// });\r\n\r\napp.listen(PORT, () => console.log(`App listening at port ${PORT}`));\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723932448034},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\categories.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedCatById = exports.getAllMedCats = exports.deleteMedCatById = exports.addMedCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nconst addMedCat = async (req, res) => {\n  const data = {\n    categoryTitle: req.body.categoryTitle,\n    backgroundImage: \"\",\n    meditationRoutines: []\n  };\n  console.log(req.files[\"backgroundImage\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/cat/${req.files[\"backgroundImage\"].name}`);\n    // var reader = new window.FileReader();\n    // reader.onload = function () {\n    //   var blob = window.dataURLtoBlob(reader.result);\n    // };\n\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\n\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"backgroundImage\"].data\n    // reader/\n    );\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    data[\"backgroundImage\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const document = await (0, _firestore.addDoc)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"), data);\n    res.status(200).json({\n      ok: true,\n      id: document.id\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedCat = addMedCat;\nconst getAllMedCats = async (req, res) => {\n  const data = [];\n  try {\n    const medCats = await (0, _firestore.getDocs)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"));\n    medCats.forEach(doc => {\n      data.push(_objectSpread({\n        uid: doc.id\n      }, doc.data()));\n    });\n    res.status(200).json({\n      ok: true,\n      data\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getAllMedCats = getAllMedCats;\nconst getMedCatById = async (req, res) => {\n  console.log(req.params.id);\n  try {\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.id);\n    const medcat = await (0, _firestore.getDoc)(ref);\n    res.status(200).json({\n      ok: true,\n      data: _objectSpread({\n        uid: medcat.id\n      }, medcat.data())\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedCatById = getMedCatById;\nconst deleteMedCatById = async (req, res) => {\n  try {\n    console.log(req.body);\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.id);\n    (0, _firestore.deleteDoc)(ref).then(r => {\n      console.log(r);\n      res.status(200).json({\n        ok: true\n      });\n    }).catch(error => {\n      res.status(500).json({\n        ok: false,\n        error\n      });\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedCatById = deleteMedCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaSIsIl90b1ByaW1pdGl2ZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImFkZE1lZENhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeVRpdGxlIiwiYm9keSIsImJhY2tncm91bmRJbWFnZSIsIm1lZGl0YXRpb25Sb3V0aW5lcyIsImNvbnNvbGUiLCJsb2ciLCJmaWxlcyIsInN0b3JhZ2VSZWYiLCJyZWYiLCJzdG9yYWdlIiwibmFtZSIsInVwbG9hZEJ5dGVzIiwidXJsIiwiZ2V0RG93bmxvYWRVUkwiLCJ1dWlkIiwiZG9jdW1lbnQiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwiZGIiLCJzdGF0dXMiLCJqc29uIiwib2siLCJpZCIsImVycm9yIiwiZXhwb3J0cyIsImdldEFsbE1lZENhdHMiLCJtZWRDYXRzIiwiZ2V0RG9jcyIsImRvYyIsInVpZCIsImdldE1lZENhdEJ5SWQiLCJwYXJhbXMiLCJtZWRjYXQiLCJnZXREb2MiLCJkZWxldGVNZWRDYXRCeUlkIiwiZGVsZXRlRG9jIiwidGhlbiIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiJEOlxcemVuX2JhY2tcXG1lZGl0YXRpb25zXFwiLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHdoZXJlLFxyXG59IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IHtcclxuICByZWYsXHJcbiAgZ2V0RG93bmxvYWRVUkwsXHJcbiAgdXBsb2FkQnl0ZXNSZXN1bWFibGUsXHJcbiAgdXBsb2FkQnl0ZXMsXHJcbn0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5jb25zdCBhZGRNZWRDYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnlUaXRsZTogcmVxLmJvZHkuY2F0ZWdvcnlUaXRsZSxcclxuICAgIGJhY2tncm91bmRJbWFnZTogXCJcIixcclxuICAgIG1lZGl0YXRpb25Sb3V0aW5lczogW10sXHJcbiAgfTtcclxuICBjb25zb2xlLmxvZyhyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihcclxuICAgICAgc3RvcmFnZSxcclxuICAgICAgYC9tZWRpdGF0aW9ucy9jYXQvJHtyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0ubmFtZX1gXHJcbiAgICApO1xyXG4gICAgLy8gdmFyIHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpO1xyXG4gICAgLy8gcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdmFyIGJsb2IgPSB3aW5kb3cuZGF0YVVSTHRvQmxvYihyZWFkZXIucmVzdWx0KTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwocmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdKTtcclxuXHJcbiAgICBhd2FpdCB1cGxvYWRCeXRlcyhcclxuICAgICAgc3RvcmFnZVJlZixcclxuICAgICAgcmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdLmRhdGFcclxuICAgICAgLy8gcmVhZGVyL1xyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1cmwgPSBhd2FpdCBnZXREb3dubG9hZFVSTChzdG9yYWdlUmVmKTtcclxuICAgIGRhdGFbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0gPSB1cmw7XHJcbiAgICBkYXRhW1wiaWRcIl0gPSB1dWlkKCk7XHJcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSwgZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBpZDogZG9jdW1lbnQuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxNZWRDYXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IFtdO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZWRDYXRzID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSk7XHJcbiAgICBtZWRDYXRzLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgICBkYXRhLnB1c2goeyB1aWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTtcclxuICAgIH0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSwgZGF0YSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldE1lZENhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLmlkKTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCByZXEucGFyYW1zLmlkKTtcclxuICAgIGNvbnN0IG1lZGNhdCA9IGF3YWl0IGdldERvYyhyZWYpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgZGF0YTogeyB1aWQ6IG1lZGNhdC5pZCwgLi4ubWVkY2F0LmRhdGEoKSB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRDYXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGNvbnN0IHJlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLmJvZHkuaWQpO1xyXG5cclxuICAgIGRlbGV0ZURvYyhyZWYpXHJcbiAgICAgIC50aGVuKChyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICAgICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBhZGRNZWRDYXQsIGdldEFsbE1lZENhdHMsIGdldE1lZENhdEJ5SWQsIGRlbGV0ZU1lZENhdEJ5SWQgfTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFELE9BQUE7QUFVQSxJQUFBRSxRQUFBLEdBQUFGLE9BQUE7QUFNQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFBa0MsU0FBQUksUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUEsV0FBQUUsTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixDQUFBLEVBQUFDLENBQUEsRUFBQVEsVUFBQSxPQUFBUCxDQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxDQUFBLEVBQUFJLENBQUEsWUFBQUosQ0FBQTtBQUFBLFNBQUFVLGNBQUFaLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFZLFNBQUEsQ0FBQUMsTUFBQSxFQUFBYixDQUFBLFVBQUFDLENBQUEsV0FBQVcsU0FBQSxDQUFBWixDQUFBLElBQUFZLFNBQUEsQ0FBQVosQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FBQUksTUFBQSxDQUFBRCxDQUFBLE9BQUFhLE9BQUEsV0FBQWQsQ0FBQSxJQUFBZSxlQUFBLENBQUFo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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","addMedCat","req","res","data","categoryTitle","body","backgroundImage","meditationRoutines","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","uuid","document","addDoc","collection","db","status","json","ok","id","error","exports","getAllMedCats","medCats","getDocs","doc","uid","getMedCatById","params","medcat","getDoc","deleteMedCatById","deleteDoc","then","catch"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["categories.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedCat = async (req, res) => {\r\n  const data = {\r\n    categoryTitle: req.body.categoryTitle,\r\n    backgroundImage: \"\",\r\n    meditationRoutines: [],\r\n  };\r\n  console.log(req.files[\"backgroundImage\"]);\r\n\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/cat/${req.files[\"backgroundImage\"].name}`\r\n    );\r\n    // var reader = new window.FileReader();\r\n    // reader.onload = function () {\r\n    //   var blob = window.dataURLtoBlob(reader.result);\r\n    // };\r\n\r\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\r\n\r\n    await uploadBytes(\r\n      storageRef,\r\n      req.files[\"backgroundImage\"].data\r\n      // reader/\r\n    );\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n    data[\"backgroundImage\"] = url;\r\n    data[\"id\"] = uuid();\r\n    const document = await addDoc(collection(db, \"categorie_meditati\"), data);\r\n    res.status(200).json({ ok: true, id: document.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getAllMedCats = async (req, res) => {\r\n  const data = [];\r\n  try {\r\n    const medCats = await getDocs(collection(db, \"categorie_meditati\"));\r\n    medCats.forEach((doc) => {\r\n      data.push({ uid: doc.id, ...doc.data() });\r\n    });\r\n    res.status(200).json({ ok: true, data });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedCatById = async (req, res) => {\r\n  console.log(req.params.id);\r\n  try {\r\n    const ref = doc(db, \"categorie_meditati\", req.params.id);\r\n    const medcat = await getDoc(ref);\r\n    res.status(200).json({\r\n      ok: true,\r\n      data: { uid: medcat.id, ...medcat.data() },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.body);\r\n    const ref = doc(db, \"categorie_meditati\", req.body.id);\r\n\r\n    deleteDoc(ref)\r\n      .then((r) => {\r\n        console.log(r);\r\n        res.status(200).json({ ok: true });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).json({ ok: false, error });\r\n      });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMedCat, getAllMedCats, getMedCatById, deleteMedCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723930730790},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\config_fire.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storage = exports.db = void 0;\nrequire(\"dotenv/config\");\nvar _app = require(\"firebase/app\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nconst firebaseConfig = {\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  databaseURL: process.env.databaseURL,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.measurementId,\n  appId: process.env.apiKey,\n  measurementId: process.env.measurementId\n};\nconst app = (0, _app.initializeApp)(firebaseConfig);\nconst db = exports.db = (0, _firestore.getFirestore)(app);\nconst storage = exports.storage = (0, _storage.getStorage)();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiX2FwcCIsIl9maXJlc3RvcmUiLCJfc3RvcmFnZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsImF1dGhEb21haW4iLCJkYXRhYmFzZVVSTCIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIm1lYXN1cmVtZW50SWQiLCJhcHBJZCIsImFwcCIsImluaXRpYWxpemVBcHAiLCJkYiIsImV4cG9ydHMiLCJnZXRGaXJlc3RvcmUiLCJzdG9yYWdlIiwiZ2V0U3RvcmFnZSJdLCJzb3VyY2VSb290IjoiRDpcXHplbl9iYWNrXFwiLCJzb3VyY2VzIjpbImNvbmZpZ19maXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xyXG5pbXBvcnQgeyBnZXRTdG9yYWdlfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5hcGlLZXksXHJcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuYXV0aERvbWFpbixcclxuICBkYXRhYmFzZVVSTDogcHJvY2Vzcy5lbnYuZGF0YWJhc2VVUkwsXHJcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5wcm9qZWN0SWQsXHJcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuc3RvcmFnZUJ1Y2tldCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYubWVhc3VyZW1lbnRJZCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuYXBpS2V5LFxyXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lm1lYXN1cmVtZW50SWQsXHJcbn07XHJcblxyXG5cclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcbmNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XHJcbmV4cG9ydCB7IGRiLCBzdG9yYWdlIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUFBLE9BQUE7QUFDQSxJQUFBQyxJQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFFQSxNQUFNSSxjQUFjLEdBQUc7RUFDckJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE1BQU07RUFDMUJHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7RUFDbENDLFdBQVcsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFdBQVc7RUFDcENDLFNBQVMsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHLFNBQVM7RUFDaENDLGFBQWEsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWE7RUFDeENDLGlCQUFpQixFQUFFTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sYUFBYTtFQUM1Q0MsS0FBSyxFQUFFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsTUFBTTtFQUN6QlEsYUFBYSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ007QUFDN0IsQ0FBQztBQUdELE1BQU1FLEdBQUcsR0FBRyxJQUFBQyxrQkFBYSxFQUFDWixjQUFjLENBQUM7QUFDekMsTUFBTWEsRUFBRSxHQUFBQyxPQUFBLENBQUFELEVBQUEsR0FBRyxJQUFBRSx1QkFBWSxFQUFDSixHQUFHLENBQUM7QUFDNUIsTUFBTUssT0FBTyxHQUFBRixPQUFBLENBQUFFLE9BQUEsR0FBRyxJQUFBQyxtQkFBVSxFQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["require","_app","_firestore","_storage","firebaseConfig","apiKey","process","env","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","measurementId","appId","app","initializeApp","db","exports","getFirestore","storage","getStorage"],"sourceRoot":"D:\\zen_back\\","sources":["config_fire.js"],"sourcesContent":["import \"dotenv/config\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage} from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.apiKey,\r\n  authDomain: process.env.authDomain,\r\n  databaseURL: process.env.databaseURL,\r\n  projectId: process.env.projectId,\r\n  storageBucket: process.env.storageBucket,\r\n  messagingSenderId: process.env.measurementId,\r\n  appId: process.env.apiKey,\r\n  measurementId: process.env.measurementId,\r\n};\r\n\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage();\r\nexport { db, storage };\r\n"],"mappings":";;;;;;AAAAA,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAEA,MAAMI,cAAc,GAAG;EACrBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACF,MAAM;EAC1BG,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACC,UAAU;EAClCC,WAAW,EAAEH,OAAO,CAACC,GAAG,CAACE,WAAW;EACpCC,SAAS,EAAEJ,OAAO,CAACC,GAAG,CAACG,SAAS;EAChCC,aAAa,EAAEL,OAAO,CAACC,GAAG,CAACI,aAAa;EACxCC,iBAAiB,EAAEN,OAAO,CAACC,GAAG,CAACM,aAAa;EAC5CC,KAAK,EAAER,OAAO,CAACC,GAAG,CAACF,MAAM;EACzBQ,aAAa,EAAEP,OAAO,CAACC,GAAG,CAACM;AAC7B,CAAC;AAGD,MAAME,GAAG,GAAG,IAAAC,kBAAa,EAACZ,cAAc,CAAC;AACzC,MAAMa,EAAE,GAAAC,OAAA,CAAAD,EAAA,GAAG,IAAAE,uBAAY,EAACJ,GAAG,CAAC;AAC5B,MAAMK,OAAO,GAAAF,OAAA,CAAAE,OAAA,GAAG,IAAAC,mBAAU,EAAC,CAAC","ignoreList":[]}},"mtime":1723758626287},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\categories.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedCatById = exports.getAllMedCats = exports.deleteMedCatById = exports.addMedCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nconst addMedCat = async (req, res) => {\n  const data = {\n    categoryTitle: req.body.categoryTitle,\n    backgroundImage: \"\",\n    meditationRoutines: []\n  };\n  console.log(req.files[\"backgroundImage\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/cat/${req.files[\"backgroundImage\"].name}`);\n    // var reader = new window.FileReader();\n    // reader.onload = function () {\n    //   var blob = window.dataURLtoBlob(reader.result);\n    // };\n\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\n\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"backgroundImage\"].data\n    // reader/\n    );\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    data[\"backgroundImage\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const document = await (0, _firestore.addDoc)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"), data);\n    res.status(200).json({\n      ok: true,\n      id: document.id\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedCat = addMedCat;\nconst getAllMedCats = async (req, res) => {\n  const data = [];\n  try {\n    const medCats = await (0, _firestore.getDocs)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"));\n    medCats.forEach(doc => {\n      data.push(_objectSpread({\n        uid: doc.id\n      }, doc.data()));\n    });\n    res.status(200).json({\n      ok: true,\n      data\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getAllMedCats = getAllMedCats;\nconst getMedCatById = async (req, res) => {\n  console.log(req.params.id);\n  try {\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.id);\n    const medcat = await (0, _firestore.getDoc)(ref);\n    res.status(200).json({\n      ok: true,\n      data: _objectSpread({\n        uid: medcat.id\n      }, medcat.data())\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedCatById = getMedCatById;\nconst deleteMedCatById = async (req, res) => {\n  try {\n    console.log(req.body);\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.id);\n    (0, _firestore.deleteDoc)(ref).then(r => {\n      console.log(r);\n      res.status(200).json({\n        ok: true\n      });\n    }).catch(error => {\n      res.status(500).json({\n        ok: false,\n        error\n      });\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedCatById = deleteMedCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaSIsIl90b1ByaW1pdGl2ZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImFkZE1lZENhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeVRpdGxlIiwiYm9keSIsImJhY2tncm91bmRJbWFnZSIsIm1lZGl0YXRpb25Sb3V0aW5lcyIsImNvbnNvbGUiLCJsb2ciLCJmaWxlcyIsInN0b3JhZ2VSZWYiLCJyZWYiLCJzdG9yYWdlIiwibmFtZSIsInVwbG9hZEJ5dGVzIiwidXJsIiwiZ2V0RG93bmxvYWRVUkwiLCJ1dWlkIiwiZG9jdW1lbnQiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwiZGIiLCJzdGF0dXMiLCJqc29uIiwib2siLCJpZCIsImVycm9yIiwiZXhwb3J0cyIsImdldEFsbE1lZENhdHMiLCJtZWRDYXRzIiwiZ2V0RG9jcyIsImRvYyIsInVpZCIsImdldE1lZENhdEJ5SWQiLCJwYXJhbXMiLCJtZWRjYXQiLCJnZXREb2MiLCJkZWxldGVNZWRDYXRCeUlkIiwiZGVsZXRlRG9jIiwidGhlbiIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiJEOlxcemVuX2JhY2tcXG1lZGl0YXRpb25zXFwiLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHdoZXJlLFxyXG59IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IHtcclxuICByZWYsXHJcbiAgZ2V0RG93bmxvYWRVUkwsXHJcbiAgdXBsb2FkQnl0ZXNSZXN1bWFibGUsXHJcbiAgdXBsb2FkQnl0ZXMsXHJcbn0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5jb25zdCBhZGRNZWRDYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnlUaXRsZTogcmVxLmJvZHkuY2F0ZWdvcnlUaXRsZSxcclxuICAgIGJhY2tncm91bmRJbWFnZTogXCJcIixcclxuICAgIG1lZGl0YXRpb25Sb3V0aW5lczogW10sXHJcbiAgfTtcclxuICBjb25zb2xlLmxvZyhyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihcclxuICAgICAgc3RvcmFnZSxcclxuICAgICAgYC9tZWRpdGF0aW9ucy9jYXQvJHtyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0ubmFtZX1gXHJcbiAgICApO1xyXG4gICAgLy8gdmFyIHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpO1xyXG4gICAgLy8gcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdmFyIGJsb2IgPSB3aW5kb3cuZGF0YVVSTHRvQmxvYihyZWFkZXIucmVzdWx0KTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwocmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdKTtcclxuXHJcbiAgICBhd2FpdCB1cGxvYWRCeXRlcyhcclxuICAgICAgc3RvcmFnZVJlZixcclxuICAgICAgcmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdLmRhdGFcclxuICAgICAgLy8gcmVhZGVyL1xyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1cmwgPSBhd2FpdCBnZXREb3dubG9hZFVSTChzdG9yYWdlUmVmKTtcclxuICAgIGRhdGFbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0gPSB1cmw7XHJcbiAgICBkYXRhW1wiaWRcIl0gPSB1dWlkKCk7XHJcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSwgZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBpZDogZG9jdW1lbnQuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxNZWRDYXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IFtdO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZWRDYXRzID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSk7XHJcbiAgICBtZWRDYXRzLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgICBkYXRhLnB1c2goeyB1aWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTtcclxuICAgIH0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSwgZGF0YSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldE1lZENhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLmlkKTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCByZXEucGFyYW1zLmlkKTtcclxuICAgIGNvbnN0IG1lZGNhdCA9IGF3YWl0IGdldERvYyhyZWYpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgZGF0YTogeyB1aWQ6IG1lZGNhdC5pZCwgLi4ubWVkY2F0LmRhdGEoKSB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRDYXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGNvbnN0IHJlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLmJvZHkuaWQpO1xyXG5cclxuICAgIGRlbGV0ZURvYyhyZWYpXHJcbiAgICAgIC50aGVuKChyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICAgICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBhZGRNZWRDYXQsIGdldEFsbE1lZENhdHMsIGdldE1lZENhdEJ5SWQsIGRlbGV0ZU1lZENhdEJ5SWQgfTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFELE9BQUE7QUFVQSxJQUFBRSxRQUFBLEdBQUFGLE9BQUE7QUFNQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFBa0MsU0FBQUksUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUEsV0FBQUUsTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixDQUFBLEVBQUFDLENBQUEsRUFBQVEsVUFBQSxPQUFBUCxDQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxDQUFBLEVBQUFJLENBQUEsWUFBQUosQ0FBQTtBQUFBLFNBQUFVLGNBQUFaLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFZLFNBQUEsQ0FBQUMsTUFBQSxFQUFBYixDQUFBLFVBQUFDLENBQUEsV0FBQVcsU0FBQSxDQUFBWixDQUFBLElBQUFZLFNBQUEsQ0FBQVosQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FBQUksTUFBQSxDQUFBRCxDQUFBLE9BQUFhLE9BQUEsV0FBQWQsQ0FBQSxJQUFBZSxlQUFBLENBQUFoQixDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxDQUFBRCxDQUFBLFNBQUFFLE1BQUEsQ0FBQWMseUJBQUEsR0FBQWQsTUFBQSxDQUFBZSxnQkFBQSxDQUFBbEIsQ0FBQSxFQUFBRyxNQUFBLENBQUFjLHlCQUFBLENBQUFmLENBQUEsS0FBQUgsT0FBQSxDQUFBSSxNQUFBLENBQUFELENBQUEsR0FBQWEsT0FBQSxXQUFBZCxDQUFBLElBQUFFLE1BQUEsQ0FBQWdCLGNBQUEsQ0FBQW5CLENBQUEsRUFBQUMsQ0FBQSxFQUFBRSxNQUFBLENBQUFLLHdCQUFBLENBQUFOLENBQUEsRUFBQUQsQ0FBQSxpQkFBQUQsQ0FBQTtBQUFBLFNBQUFnQixnQkFBQWhCLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFlBQUFELENBQUEsR0FBQW1CLGNBQUEsQ0FBQW5CLENBQUEsTUFBQUQsQ0FBQSxHQUFBRyxNQUFBLENBQUFnQixjQUFBLENBQUFuQixDQUFBLEVBQUFDLENBQUEsSUFBQW9CLEtBQUEsRUFBQW5CLENBQUEsRUFBQU8sVUFBQSxNQUFBYSxZQUFBLE1BQUFDLFFBQUEsVUFBQXZCLENBQUEsQ0FBQUMsQ0FBQSxJQUFBQyxDQUFBLEVBQUFGLENBQUE7QUFBQSxTQUFBb0IsZUFBQWxCLENBQUEsUUFBQXNCLENBQUEsR0FBQUMsWUFBQSxDQUFBdkIsQ0FBQSx1Q0FBQXNCLENBQUEsR0FBQUEsQ0FBQSxHQUFBQSxDQUFBO0FBQUEsU0FBQUMsYUFBQXZCLENBQUEsRUFBQUQsQ0FBQSwyQkFBQUMsQ0FBQSxLQUFBQSxDQUFBLFNBQUFBLENBQUEsTUFBQUYsQ0FBQSxHQUFBRSxDQUFBLENBQUF3QixNQUFBLENBQUFDLFdBQUEsa0JBQUEzQixDQUFBLFFBQUF3QixDQUFBLEdBQUF4QixDQUFBLENBQUE0QixJQUFBLENBQUExQixDQUFBLEVBQUFELENBQUEsdUNBQUF1QixDQUFBLFNBQUFBLENBQUEsWUFBQUssU0FBQSx5RUFBQTVCLENBQUEsR0FBQTZCLE1BQUEsR0FBQUMsTUFBQSxFQUFBN0IsQ0FBQTtBQUVsQyxNQUFNOEIsU0FBUyxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3BDLE1BQU1DLElBQUksR0FBRztJQUNYQyxhQUFhLEVBQUVILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRCxhQUFhO0lBQ3JDRSxlQUFlLEVBQUUsRUFBRTtJQUNuQkMsa0JBQWtCLEVBQUU7RUFDdEIsQ0FBQztFQUNEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ1IsR0FBRyxDQUFDUyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztFQUV6QyxJQUFJO0lBQ0YsTUFBTUMsVUFBVSxHQUFHLElBQUFDLFlBQUcsRUFDcEJDLG9CQUFPLEVBQ1Asb0JBQW9CWixHQUFHLENBQUNTLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDSSxJQUFJLEVBQ3ZELENBQUM7SUFDRDtJQUNBO0lBQ0E7SUFDQTs7SUFFQTs7SUFFQSxNQUFNLElBQUFDLG9CQUFXLEVBQ2ZKLFVBQVUsRUFDVlYsR0FBRyxDQUFDUyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQ1A7SUFDN0I7SUFDRixDQUFDO0lBRUQsTUFBTWEsR0FBRyxHQUFHLE1BQU0sSUFBQUMsdUJBQWMsRUFBQ04sVUFBVSxDQUFDO0lBQzVDUixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBR2EsR0FBRztJQUM3QmIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUFlLFFBQUksRUFBQyxDQUFDO0lBQ25CLE1BQU1DLFFBQVEsR0FBRyxNQUFNLElBQUFDLGlCQUFNLEVBQUMsSUFBQUMscUJBQVUsRUFBQ0MsZUFBRSxFQUFFLG9CQUFvQixDQUFDLEVBQUVuQixJQUFJLENBQUM7SUFDekVELEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEVBQUUsRUFBRSxJQUFJO01BQUVDLEVBQUUsRUFBRVAsUUFBUSxDQUFDTztJQUFHLENBQUMsQ0FBQztFQUNyRCxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0lBQ2RuQixPQUFPLENBQUNDLEdBQUcsQ0FBQ2tCLEtBQUssQ0FBQztJQUNsQnpCLEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEVBQUUsRUFBRSxLQUFLO01BQUVFO0lBQU0sQ0FBQyxDQUFDO0VBQzVDO0FBQ0YsQ0FBQztBQUFDQyxPQUFBLENBQUE1QixTQUFBLEdBQUFBLFNBQUE7QUFFRixNQUFNNkIsYUFBYSxHQUFHLE1BQUFBLENBQU81QixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QyxNQUFNQyxJQUFJLEdBQUcsRUFBRTtFQUNmLElBQUk7SUFDRixNQUFNMkIsT0FBTyxHQUFHLE1BQU0sSUFBQUMsa0JBQU8sRUFBQyxJQUFBVixxQkFBVSxFQUFDQyxlQUFFLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztJQUNuRVEsT0FBTyxDQUFDL0MsT0FBTyxDQUFFaUQsR0FBRyxJQUFLO01BQ3ZCN0IsSUFBSSxDQUFDekIsSUFBSSxDQUFBRSxhQUFBO1FBQUdxRCxHQUFHLEVBQUVELEdBQUcsQ0FBQ047TUFBRSxHQUFLTSxHQUFHLENBQUM3QixJQUFJLENBQUMsQ0FBQyxDQUFFLENBQUM7SUFDM0MsQ0FBQyxDQUFDO0lBQ0ZELEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEVBQUUsRUFBRSxJQUFJO01BQUV0QjtJQUFLLENBQUMsQ0FBQztFQUMxQyxDQUFDLENBQUMsT0FBT3dCLEtBQUssRUFBRTtJQUNkekIsR0FBRyxDQUFDcUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsRUFBRSxFQUFFLEtBQUs7TUFBRUU7SUFBTSxDQUFDLENBQUM7RUFDNUM7QUFDRixDQUFDO0FBQUNDLE9BQUEsQ0FBQUMsYUFBQSxHQUFBQSxhQUFBO0FBRUYsTUFBTUssYUFBYSxHQUFHLE1BQUFBLENBQU9qQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4Q00sT0FBTyxDQUFDQyxHQUFHLENBQUNSLEdBQUcsQ0FBQ2tDLE1BQU0sQ0FBQ1QsRUFBRSxDQUFDO0VBQzFCLElBQUk7SUFDRixNQUFNZCxHQUFHLEdBQUcsSUFBQW9CLGNBQUcsRUFBQ1YsZUFBRSxFQUFFLG9CQUFvQixFQUFFckIsR0FBRyxDQUFDa0MsTUFBTSxDQUFDVCxFQUFFLENBQUM7SUFDeEQsTUFBTVUsTUFBTSxHQUFHLE1BQU0sSUFBQUMsaUJBQU0sRUFBQ3pCLEdBQUcsQ0FBQztJQUNoQ1YsR0FBRyxDQUFDcUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDbkJDLEVBQUUsRUFBRSxJQUFJO01BQ1J0QixJQUFJLEVBQUF2QixhQUFBO1FBQUlxRCxHQUFHLEVBQUVHLE1BQU0sQ0FBQ1Y7TUFBRSxHQUFLVSxNQUFNLENBQUNqQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBT3dCLEtBQUssRUFBRTtJQUNkbkIsT0FBTyxDQUFDQyxHQUFHLENBQUNrQixLQUFLLENBQUM7SUFDbEJ6QixHQUFHLENBQUNxQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxFQUFFLEVBQUUsS0FBSztNQUFFRTtJQUFNLENBQUMsQ0FBQztFQUM1QztBQUNGLENBQUM7QUFBQ0MsT0FBQSxDQUFBTSxhQUFBLEdBQUFBLGFBQUE7QUFFRixNQUFNSSxnQkFBZ0IsR0FBRyxNQUFBQSxDQUFPckMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDM0MsSUFBSTtJQUNGTSxPQUFPLENBQUNDLEdBQUcsQ0FBQ1IsR0FBRyxDQUFDSSxJQUFJLENBQUM7SUFDckIsTUFBTU8sR0FBRyxHQUFHLElBQUFvQixjQUFHLEVBQUNWLGVBQUUsRUFBRSxvQkFBb0IsRUFBRXJCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDcUIsRUFBRSxDQUFDO0lBRXRELElBQUFhLG9CQUFTLEVBQUMzQixHQUFHLENBQUMsQ0FDWDRCLElBQUksQ0FBRXZFLENBQUMsSUFBSztNQUNYdUMsT0FBTyxDQUFDQyxHQUFHLENBQUN4QyxDQUFDLENBQUM7TUFDZGlDLEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVDLEVBQUUsRUFBRTtNQUFLLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUMsQ0FDRGdCLEtBQUssQ0FBRWQsS0FBSyxJQUFLO01BQ2hCekIsR0FBRyxDQUFDcUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsRUFBRSxFQUFFLEtBQUs7UUFBRUU7TUFBTSxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDO0VBQ04sQ0FBQyxDQUFDLE9BQU9BLEtBQUssRUFBRTtJQUNkekIsR0FBRyxDQUFDcUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsRUFBRSxFQUFFLEtBQUs7TUFBRUU7SUFBTSxDQUFDLENBQUM7RUFDNUM7QUFDRixDQUFDO0FBQUNDLE9BQUEsQ0FBQVUsZ0JBQUEsR0FBQUEsZ0JBQUEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","addMedCat","req","res","data","categoryTitle","body","backgroundImage","meditationRoutines","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","uuid","document","addDoc","collection","db","status","json","ok","id","error","exports","getAllMedCats","medCats","getDocs","doc","uid","getMedCatById","params","medcat","getDoc","deleteMedCatById","deleteDoc","then","catch"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["categories.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedCat = async (req, res) => {\r\n  const data = {\r\n    categoryTitle: req.body.categoryTitle,\r\n    backgroundImage: \"\",\r\n    meditationRoutines: [],\r\n  };\r\n  console.log(req.files[\"backgroundImage\"]);\r\n\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/cat/${req.files[\"backgroundImage\"].name}`\r\n    );\r\n    // var reader = new window.FileReader();\r\n    // reader.onload = function () {\r\n    //   var blob = window.dataURLtoBlob(reader.result);\r\n    // };\r\n\r\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\r\n\r\n    await uploadBytes(\r\n      storageRef,\r\n      req.files[\"backgroundImage\"].data\r\n      // reader/\r\n    );\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n    data[\"backgroundImage\"] = url;\r\n    data[\"id\"] = uuid();\r\n    const document = await addDoc(collection(db, \"categorie_meditati\"), data);\r\n    res.status(200).json({ ok: true, id: document.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getAllMedCats = async (req, res) => {\r\n  const data = [];\r\n  try {\r\n    const medCats = await getDocs(collection(db, \"categorie_meditati\"));\r\n    medCats.forEach((doc) => {\r\n      data.push({ uid: doc.id, ...doc.data() });\r\n    });\r\n    res.status(200).json({ ok: true, data });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedCatById = async (req, res) => {\r\n  console.log(req.params.id);\r\n  try {\r\n    const ref = doc(db, \"categorie_meditati\", req.params.id);\r\n    const medcat = await getDoc(ref);\r\n    res.status(200).json({\r\n      ok: true,\r\n      data: { uid: medcat.id, ...medcat.data() },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.body);\r\n    const ref = doc(db, \"categorie_meditati\", req.body.id);\r\n\r\n    deleteDoc(ref)\r\n      .then((r) => {\r\n        console.log(r);\r\n        res.status(200).json({ ok: true });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).json({ ok: false, error });\r\n      });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMedCat, getAllMedCats, getMedCatById, deleteMedCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723930730790},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\config_fire.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storage = exports.db = void 0;\nrequire(\"dotenv/config\");\nvar _app = require(\"firebase/app\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nconst firebaseConfig = {\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  databaseURL: process.env.databaseURL,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.measurementId,\n  appId: process.env.apiKey,\n  measurementId: process.env.measurementId\n};\nconst app = (0, _app.initializeApp)(firebaseConfig);\nconst db = exports.db = (0, _firestore.getFirestore)(app);\nconst storage = exports.storage = (0, _storage.getStorage)();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiX2FwcCIsIl9maXJlc3RvcmUiLCJfc3RvcmFnZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsImF1dGhEb21haW4iLCJkYXRhYmFzZVVSTCIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIm1lYXN1cmVtZW50SWQiLCJhcHBJZCIsImFwcCIsImluaXRpYWxpemVBcHAiLCJkYiIsImV4cG9ydHMiLCJnZXRGaXJlc3RvcmUiLCJzdG9yYWdlIiwiZ2V0U3RvcmFnZSJdLCJzb3VyY2VSb290IjoiRDpcXHplbl9iYWNrXFwiLCJzb3VyY2VzIjpbImNvbmZpZ19maXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xyXG5pbXBvcnQgeyBnZXRTdG9yYWdlfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5hcGlLZXksXHJcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuYXV0aERvbWFpbixcclxuICBkYXRhYmFzZVVSTDogcHJvY2Vzcy5lbnYuZGF0YWJhc2VVUkwsXHJcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5wcm9qZWN0SWQsXHJcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuc3RvcmFnZUJ1Y2tldCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYubWVhc3VyZW1lbnRJZCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuYXBpS2V5LFxyXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lm1lYXN1cmVtZW50SWQsXHJcbn07XHJcblxyXG5cclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcbmNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XHJcbmV4cG9ydCB7IGRiLCBzdG9yYWdlIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUFBLE9BQUE7QUFDQSxJQUFBQyxJQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFFQSxNQUFNSSxjQUFjLEdBQUc7RUFDckJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE1BQU07RUFDMUJHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7RUFDbENDLFdBQVcsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFdBQVc7RUFDcENDLFNBQVMsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHLFNBQVM7RUFDaENDLGFBQWEsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWE7RUFDeENDLGlCQUFpQixFQUFFTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sYUFBYTtFQUM1Q0MsS0FBSyxFQUFFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsTUFBTTtFQUN6QlEsYUFBYSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ007QUFDN0IsQ0FBQztBQUdELE1BQU1FLEdBQUcsR0FBRyxJQUFBQyxrQkFBYSxFQUFDWixjQUFjLENBQUM7QUFDekMsTUFBTWEsRUFBRSxHQUFBQyxPQUFBLENBQUFELEVBQUEsR0FBRyxJQUFBRSx1QkFBWSxFQUFDSixHQUFHLENBQUM7QUFDNUIsTUFBTUssT0FBTyxHQUFBRixPQUFBLENBQUFFLE9BQUEsR0FBRyxJQUFBQyxtQkFBVSxFQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["require","_app","_firestore","_storage","firebaseConfig","apiKey","process","env","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","measurementId","appId","app","initializeApp","db","exports","getFirestore","storage","getStorage"],"sourceRoot":"D:\\zen_back\\","sources":["config_fire.js"],"sourcesContent":["import \"dotenv/config\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage} from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.apiKey,\r\n  authDomain: process.env.authDomain,\r\n  databaseURL: process.env.databaseURL,\r\n  projectId: process.env.projectId,\r\n  storageBucket: process.env.storageBucket,\r\n  messagingSenderId: process.env.measurementId,\r\n  appId: process.env.apiKey,\r\n  measurementId: process.env.measurementId,\r\n};\r\n\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage();\r\nexport { db, storage };\r\n"],"mappings":";;;;;;AAAAA,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAEA,MAAMI,cAAc,GAAG;EACrBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACF,MAAM;EAC1BG,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACC,UAAU;EAClCC,WAAW,EAAEH,OAAO,CAACC,GAAG,CAACE,WAAW;EACpCC,SAAS,EAAEJ,OAAO,CAACC,GAAG,CAACG,SAAS;EAChCC,aAAa,EAAEL,OAAO,CAACC,GAAG,CAACI,aAAa;EACxCC,iBAAiB,EAAEN,OAAO,CAACC,GAAG,CAACM,aAAa;EAC5CC,KAAK,EAAER,OAAO,CAACC,GAAG,CAACF,MAAM;EACzBQ,aAAa,EAAEP,OAAO,CAACC,GAAG,CAACM;AAC7B,CAAC;AAGD,MAAME,GAAG,GAAG,IAAAC,kBAAa,EAACZ,cAAc,CAAC;AACzC,MAAMa,EAAE,GAAAC,OAAA,CAAAD,EAAA,GAAG,IAAAE,uBAAY,EAACJ,GAAG,CAAC;AAC5B,MAAMK,OAAO,GAAAF,OAAA,CAAAE,OAAA,GAAG,IAAAC,mBAAU,EAAC,CAAC","ignoreList":[]}},"mtime":1723758626287},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\meditations.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedFromCatById = exports.deleteMedFromCat = exports.addMedToCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nconst addMedToCat = async (req, res) => {\n  const data = {\n    category: req.body.category,\n    background: \"\",\n    title: req.body.title,\n    isLocked: Boolean(req.body.isLocked),\n    duration: req.body.duration,\n    meditationLink: \"\"\n  };\n  const uid = req.body.uid;\n  console.log(req.files[\"background\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"background\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"background\"].data);\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    const storageRef2 = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"meditationLink\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef2, req.files[\"meditationLink\"].data);\n    const url2 = await (0, _storage.getDownloadURL)(storageRef2);\n    data[\"meditationLink\"] = url2;\n    data[\"background\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    const cat = medcat.data();\n    cat.meditationRoutines.push(data);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedToCat = addMedToCat;\nconst deleteMedFromCat = async (req, res) => {\n  try {\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.body.id;\n    cat.meditationRoutines = cat.meditationRoutines.filter(obj => obj.id !== id);\n    // cat.meditationRoutines.push(data);\n    console.log(cat);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedFromCat = deleteMedFromCat;\nconst getMedFromCatById = async (req, res) => {\n  try {\n    console.log(req.params.uid);\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.params.id;\n    const rez = cat.meditationRoutines.filter(obj => obj.id === id);\n    res.status(200).json({\n      ok: true,\n      data: rez\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedFromCatById = getMedFromCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJhZGRNZWRUb0NhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeSIsImJvZHkiLCJiYWNrZ3JvdW5kIiwidGl0bGUiLCJpc0xvY2tlZCIsIkJvb2xlYW4iLCJkdXJhdGlvbiIsIm1lZGl0YXRpb25MaW5rIiwidWlkIiwiY29uc29sZSIsImxvZyIsImZpbGVzIiwic3RvcmFnZVJlZiIsInJlZiIsInN0b3JhZ2UiLCJuYW1lIiwidXBsb2FkQnl0ZXMiLCJ1cmwiLCJnZXREb3dubG9hZFVSTCIsInN0b3JhZ2VSZWYyIiwidXJsMiIsInV1aWQiLCJjYXRfcmVmIiwiZG9jIiwiZGIiLCJtZWRjYXQiLCJnZXREb2MiLCJjYXQiLCJtZWRpdGF0aW9uUm91dGluZXMiLCJwdXNoIiwidXBkYXRlRG9jIiwic3RhdHVzIiwianNvbiIsIm9rIiwiZXJyb3IiLCJleHBvcnRzIiwiZGVsZXRlTWVkRnJvbUNhdCIsImlkIiwiZmlsdGVyIiwib2JqIiwiZ2V0TWVkRnJvbUNhdEJ5SWQiLCJwYXJhbXMiLCJyZXoiXSwic291cmNlUm9vdCI6IkQ6XFx6ZW5fYmFja1xcbWVkaXRhdGlvbnNcXCIsInNvdXJjZXMiOlsibWVkaXRhdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVmLFxyXG4gIGdldERvd25sb2FkVVJMLFxyXG4gIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLFxyXG4gIHVwbG9hZEJ5dGVzLFxyXG59IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgYWRkTWVkVG9DYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxyXG4gICAgYmFja2dyb3VuZDogXCJcIixcclxuICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcclxuICAgIGlzTG9ja2VkOiBCb29sZWFuKHJlcS5ib2R5LmlzTG9ja2VkKSxcclxuICAgIGR1cmF0aW9uOiByZXEuYm9keS5kdXJhdGlvbixcclxuICAgIG1lZGl0YXRpb25MaW5rOiBcIlwiLFxyXG4gIH07XHJcbiAgY29uc3QgdWlkID0gcmVxLmJvZHkudWlkO1xyXG4gIGNvbnNvbGUubG9nKHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKFxyXG4gICAgICBzdG9yYWdlLFxyXG4gICAgICBgL21lZGl0YXRpb25zL21lZC8ke3JlcS5maWxlc1tcImJhY2tncm91bmRcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0uZGF0YSk7XHJcblxyXG4gICAgY29uc3QgdXJsID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZik7XHJcblxyXG4gICAgY29uc3Qgc3RvcmFnZVJlZjIgPSByZWYoXHJcbiAgICAgIHN0b3JhZ2UsXHJcbiAgICAgIGAvbWVkaXRhdGlvbnMvbWVkLyR7cmVxLmZpbGVzW1wibWVkaXRhdGlvbkxpbmtcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYyLCByZXEuZmlsZXNbXCJtZWRpdGF0aW9uTGlua1wiXS5kYXRhKTtcclxuXHJcbiAgICBjb25zdCB1cmwyID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZjIpO1xyXG5cclxuICAgIGRhdGFbXCJtZWRpdGF0aW9uTGlua1wiXSA9IHVybDI7XHJcbiAgICBkYXRhW1wiYmFja2dyb3VuZFwiXSA9IHVybDtcclxuICAgIGRhdGFbXCJpZFwiXSA9IHV1aWQoKTtcclxuXHJcbiAgICBjb25zdCBjYXRfcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCB1aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgY29uc3QgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNhdC5tZWRpdGF0aW9uUm91dGluZXMucHVzaChkYXRhKTtcclxuXHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoY2F0X3JlZiwgY2F0KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRGcm9tQ2F0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdF9yZWYgPSBkb2MoZGIsIFwiY2F0ZWdvcmllX21lZGl0YXRpXCIsIHJlcS5ib2R5LnVpZCk7XHJcbiAgICBjb25zdCBtZWRjYXQgPSBhd2FpdCBnZXREb2MoY2F0X3JlZik7XHJcbiAgICBsZXQgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjYXQubWVkaXRhdGlvblJvdXRpbmVzID0gY2F0Lm1lZGl0YXRpb25Sb3V0aW5lcy5maWx0ZXIoXHJcbiAgICAgIChvYmopID0+IG9iai5pZCAhPT0gaWRcclxuICAgICk7XHJcbiAgICAvLyBjYXQubWVkaXRhdGlvblJvdXRpbmVzLnB1c2goZGF0YSk7XHJcbiAgICBjb25zb2xlLmxvZyhjYXQpO1xyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGNhdF9yZWYsIGNhdCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3IgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0TWVkRnJvbUNhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2cocmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgY2F0X3JlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgbGV0IGNhdCA9IG1lZGNhdC5kYXRhKCk7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCByZXogPSBjYXQubWVkaXRhdGlvblJvdXRpbmVzLmZpbHRlcigob2JqKSA9PiBvYmouaWQgPT09IGlkKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGRhdGE6IHJleiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7IGFkZE1lZFRvQ2F0LCBkZWxldGVNZWRGcm9tQ2F0LCBnZXRNZWRGcm9tQ2F0QnlJZCB9O1xyXG4iXSwibWFwcGluZ3Mi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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","addMedToCat","req","res","data","category","body","background","title","isLocked","Boolean","duration","meditationLink","uid","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","storageRef2","url2","uuid","cat_ref","doc","db","medcat","getDoc","cat","meditationRoutines","push","updateDoc","status","json","ok","error","exports","deleteMedFromCat","id","filter","obj","getMedFromCatById","params","rez"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["meditations.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedToCat = async (req, res) => {\r\n  const data = {\r\n    category: req.body.category,\r\n    background: \"\",\r\n    title: req.body.title,\r\n    isLocked: Boolean(req.body.isLocked),\r\n    duration: req.body.duration,\r\n    meditationLink: \"\",\r\n  };\r\n  const uid = req.body.uid;\r\n  console.log(req.files[\"background\"]);\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"background\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef, req.files[\"background\"].data);\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n\r\n    const storageRef2 = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"meditationLink\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef2, req.files[\"meditationLink\"].data);\r\n\r\n    const url2 = await getDownloadURL(storageRef2);\r\n\r\n    data[\"meditationLink\"] = url2;\r\n    data[\"background\"] = url;\r\n    data[\"id\"] = uuid();\r\n\r\n    const cat_ref = doc(db, \"categorie_meditati\", uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    const cat = medcat.data();\r\n    cat.meditationRoutines.push(data);\r\n\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedFromCat = async (req, res) => {\r\n  try {\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.body.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.body.id;\r\n    cat.meditationRoutines = cat.meditationRoutines.filter(\r\n      (obj) => obj.id !== id\r\n    );\r\n    // cat.meditationRoutines.push(data);\r\n    console.log(cat);\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedFromCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.params.uid);\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.params.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.params.id;\r\n    const rez = cat.meditationRoutines.filter((obj) => obj.id === id);\r\n    res.status(200).json({ ok: true, data: rez });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMedToCat, deleteMedFromCat, getMedFromCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723889240541},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\meditations.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedFromCatById = exports.deleteMedFromCat = exports.addMedToCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nconst addMedToCat = async (req, res) => {\n  const data = {\n    category: req.body.category,\n    background: \"\",\n    title: req.body.title,\n    isLocked: Boolean(req.body.isLocked),\n    duration: req.body.duration,\n    meditationLink: \"\"\n  };\n  const uid = req.body.uid;\n  console.log(req.files[\"background\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"background\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"background\"].data);\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    const storageRef2 = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"meditationLink\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef2, req.files[\"meditationLink\"].data);\n    const url2 = await (0, _storage.getDownloadURL)(storageRef2);\n    data[\"meditationLink\"] = url2;\n    data[\"background\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    const cat = medcat.data();\n    cat.meditationRoutines.push(data);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedToCat = addMedToCat;\nconst deleteMedFromCat = async (req, res) => {\n  try {\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.body.id;\n    cat.meditationRoutines = cat.meditationRoutines.filter(obj => obj.id !== id);\n    // cat.meditationRoutines.push(data);\n    console.log(cat);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedFromCat = deleteMedFromCat;\nconst getMedFromCatById = async (req, res) => {\n  try {\n    console.log(req.params.uid);\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.params.id;\n    const rez = cat.meditationRoutines.filter(obj => obj.id === id);\n    res.status(200).json({\n      ok: true,\n      data: rez\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedFromCatById = getMedFromCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJhZGRNZWRUb0NhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeSIsImJvZHkiLCJiYWNrZ3JvdW5kIiwidGl0bGUiLCJpc0xvY2tlZCIsIkJvb2xlYW4iLCJkdXJhdGlvbiIsIm1lZGl0YXRpb25MaW5rIiwidWlkIiwiY29uc29sZSIsImxvZyIsImZpbGVzIiwic3RvcmFnZVJlZiIsInJlZiIsInN0b3JhZ2UiLCJuYW1lIiwidXBsb2FkQnl0ZXMiLCJ1cmwiLCJnZXREb3dubG9hZFVSTCIsInN0b3JhZ2VSZWYyIiwidXJsMiIsInV1aWQiLCJjYXRfcmVmIiwiZG9jIiwiZGIiLCJtZWRjYXQiLCJnZXREb2MiLCJjYXQiLCJtZWRpdGF0aW9uUm91dGluZXMiLCJwdXNoIiwidXBkYXRlRG9jIiwic3RhdHVzIiwianNvbiIsIm9rIiwiZXJyb3IiLCJleHBvcnRzIiwiZGVsZXRlTWVkRnJvbUNhdCIsImlkIiwiZmlsdGVyIiwib2JqIiwiZ2V0TWVkRnJvbUNhdEJ5SWQiLCJwYXJhbXMiLCJyZXoiXSwic291cmNlUm9vdCI6IkQ6XFx6ZW5fYmFja1xcbWVkaXRhdGlvbnNcXCIsInNvdXJjZXMiOlsibWVkaXRhdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVmLFxyXG4gIGdldERvd25sb2FkVVJMLFxyXG4gIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLFxyXG4gIHVwbG9hZEJ5dGVzLFxyXG59IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgYWRkTWVkVG9DYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxyXG4gICAgYmFja2dyb3VuZDogXCJcIixcclxuICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcclxuICAgIGlzTG9ja2VkOiBCb29sZWFuKHJlcS5ib2R5LmlzTG9ja2VkKSxcclxuICAgIGR1cmF0aW9uOiByZXEuYm9keS5kdXJhdGlvbixcclxuICAgIG1lZGl0YXRpb25MaW5rOiBcIlwiLFxyXG4gIH07XHJcbiAgY29uc3QgdWlkID0gcmVxLmJvZHkudWlkO1xyXG4gIGNvbnNvbGUubG9nKHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKFxyXG4gICAgICBzdG9yYWdlLFxyXG4gICAgICBgL21lZGl0YXRpb25zL21lZC8ke3JlcS5maWxlc1tcImJhY2tncm91bmRcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0uZGF0YSk7XHJcblxyXG4gICAgY29uc3QgdXJsID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZik7XHJcblxyXG4gICAgY29uc3Qgc3RvcmFnZVJlZjIgPSByZWYoXHJcbiAgICAgIHN0b3JhZ2UsXHJcbiAgICAgIGAvbWVkaXRhdGlvbnMvbWVkLyR7cmVxLmZpbGVzW1wibWVkaXRhdGlvbkxpbmtcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYyLCByZXEuZmlsZXNbXCJtZWRpdGF0aW9uTGlua1wiXS5kYXRhKTtcclxuXHJcbiAgICBjb25zdCB1cmwyID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZjIpO1xyXG5cclxuICAgIGRhdGFbXCJtZWRpdGF0aW9uTGlua1wiXSA9IHVybDI7XHJcbiAgICBkYXRhW1wiYmFja2dyb3VuZFwiXSA9IHVybDtcclxuICAgIGRhdGFbXCJpZFwiXSA9IHV1aWQoKTtcclxuXHJcbiAgICBjb25zdCBjYXRfcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCB1aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgY29uc3QgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNhdC5tZWRpdGF0aW9uUm91dGluZXMucHVzaChkYXRhKTtcclxuXHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoY2F0X3JlZiwgY2F0KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRGcm9tQ2F0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdF9yZWYgPSBkb2MoZGIsIFwiY2F0ZWdvcmllX21lZGl0YXRpXCIsIHJlcS5ib2R5LnVpZCk7XHJcbiAgICBjb25zdCBtZWRjYXQgPSBhd2FpdCBnZXREb2MoY2F0X3JlZik7XHJcbiAgICBsZXQgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjYXQubWVkaXRhdGlvblJvdXRpbmVzID0gY2F0Lm1lZGl0YXRpb25Sb3V0aW5lcy5maWx0ZXIoXHJcbiAgICAgIChvYmopID0+IG9iai5pZCAhPT0gaWRcclxuICAgICk7XHJcbiAgICAvLyBjYXQubWVkaXRhdGlvblJvdXRpbmVzLnB1c2goZGF0YSk7XHJcbiAgICBjb25zb2xlLmxvZyhjYXQpO1xyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGNhdF9yZWYsIGNhdCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3IgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0TWVkRnJvbUNhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2cocmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgY2F0X3JlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgbGV0IGNhdCA9IG1lZGNhdC5kYXRhKCk7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCByZXogPSBjYXQubWVkaXRhdGlvblJvdXRpbmVzLmZpbHRlcigob2JqKSA9PiBvYmouaWQgPT09IGlkKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGRhdGE6IHJleiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7IGFkZE1lZFRvQ2F0LCBkZWxldGVNZWRGcm9tQ2F0LCBnZXRNZWRGcm9tQ2F0QnlJZCB9O1xyXG4iXSwibWFwcGluZ3Mi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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","addMedToCat","req","res","data","category","body","background","title","isLocked","Boolean","duration","meditationLink","uid","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","storageRef2","url2","uuid","cat_ref","doc","db","medcat","getDoc","cat","meditationRoutines","push","updateDoc","status","json","ok","error","exports","deleteMedFromCat","id","filter","obj","getMedFromCatById","params","rez"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["meditations.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedToCat = async (req, res) => {\r\n  const data = {\r\n    category: req.body.category,\r\n    background: \"\",\r\n    title: req.body.title,\r\n    isLocked: Boolean(req.body.isLocked),\r\n    duration: req.body.duration,\r\n    meditationLink: \"\",\r\n  };\r\n  const uid = req.body.uid;\r\n  console.log(req.files[\"background\"]);\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"background\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef, req.files[\"background\"].data);\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n\r\n    const storageRef2 = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"meditationLink\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef2, req.files[\"meditationLink\"].data);\r\n\r\n    const url2 = await getDownloadURL(storageRef2);\r\n\r\n    data[\"meditationLink\"] = url2;\r\n    data[\"background\"] = url;\r\n    data[\"id\"] = uuid();\r\n\r\n    const cat_ref = doc(db, \"categorie_meditati\", uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    const cat = medcat.data();\r\n    cat.meditationRoutines.push(data);\r\n\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedFromCat = async (req, res) => {\r\n  try {\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.body.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.body.id;\r\n    cat.meditationRoutines = cat.meditationRoutines.filter(\r\n      (obj) => obj.id !== id\r\n    );\r\n    // cat.meditationRoutines.push(data);\r\n    console.log(cat);\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedFromCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.params.uid);\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.params.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.params.id;\r\n    const rez = cat.meditationRoutines.filter((obj) => obj.id === id);\r\n    res.status(200).json({ ok: true, data: rez });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMedToCat, deleteMedFromCat, getMedFromCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723889240541},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\messages\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\messages\\\\messages.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMessageById = exports.getAllMessages = exports.deleteMessage = exports.addMessage = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nconst addMessage = async (req, res) => {\n  const data = _objectSpread(_objectSpread({}, req.body), {}, {\n    uid: (0, _uuid.v4)()\n  });\n  console.log(data);\n  try {\n    const document = await (0, _firestore.addDoc)((0, _firestore.collection)(_config_fire.db, \"mesaje\"), data);\n    res.status(200).json({\n      ok: true,\n      id: document.id\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMessage = addMessage;\nconst getAllMessages = async (req, res) => {\n  try {\n    const data = [];\n    const messages = await (0, _firestore.getDocs)((0, _firestore.collection)(_config_fire.db, \"mesaje\"));\n    messages.forEach(mes => {\n      data.push(_objectSpread(_objectSpread({}, mes.data()), {}, {\n        id: mes.id\n      }));\n    });\n    res.status(200).json({\n      ok: true,\n      data: data\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getAllMessages = getAllMessages;\nconst deleteMessage = async (req, res) => {\n  try {\n    const id = req.body.id;\n    const reff = (0, _firestore.doc)(_config_fire.db, \"mesaje\", id);\n    (0, _firestore.deleteDoc)(reff).then(r => {\n      console.log(r);\n      res.status(200).json({\n        ok: true\n      });\n    }).catch(error => {\n      res.status(500).json({\n        ok: false,\n        error\n      });\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMessage = deleteMessage;\nconst getMessageById = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const reff = (0, _firestore.doc)(_config_fire.db, \"mesaje\", id);\n    const message = await (0, _firestore.getDoc)(reff);\n    res.status(200).json({\n      ok: true,\n      data: _objectSpread({\n        id: message.id\n      }, message.data())\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMessageById = getMessageById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaSIsIl90b1ByaW1pdGl2ZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImFkZE1lc3NhZ2UiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInVpZCIsInV1aWQiLCJjb25zb2xlIiwibG9nIiwiZG9jdW1lbnQiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwiZGIiLCJzdGF0dXMiLCJqc29uIiwib2siLCJpZCIsImVycm9yIiwiZXhwb3J0cyIsImdldEFsbE1lc3NhZ2VzIiwibWVzc2FnZXMiLCJnZXREb2NzIiwibWVzIiwiZGVsZXRlTWVzc2FnZSIsInJlZmYiLCJkb2MiLCJkZWxldGVEb2MiLCJ0aGVuIiwiY2F0Y2giLCJnZXRNZXNzYWdlQnlJZCIsInBhcmFtcyIsIm1lc3NhZ2UiLCJnZXREb2MiXSwic291cmNlUm9vdCI6IkQ6XFx6ZW5fYmFja1xcbWVzc2FnZXNcXCIsInNvdXJjZXMiOlsibWVzc2FnZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVmLFxyXG4gIGdldERvd25sb2FkVVJMLFxyXG4gIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLFxyXG4gIHVwbG9hZEJ5dGVzLFxyXG59IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgYWRkTWVzc2FnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSB7IC4uLnJlcS5ib2R5LCB1aWQ6IHV1aWQoKSB9O1xyXG4gIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBcIm1lc2FqZVwiKSwgZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBpZDogZG9jdW1lbnQuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxNZXNzYWdlcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gW107XHJcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgXCJtZXNhamVcIikpO1xyXG4gICAgbWVzc2FnZXMuZm9yRWFjaCgobWVzKSA9PiB7XHJcbiAgICAgIGRhdGEucHVzaCh7IC4uLm1lcy5kYXRhKCksIGlkOiBtZXMuaWQgfSk7XHJcbiAgICB9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGRhdGE6IGRhdGEgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZXNzYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjb25zdCByZWZmID0gZG9jKGRiLCBcIm1lc2FqZVwiLCBpZCk7XHJcbiAgICBkZWxldGVEb2MocmVmZilcclxuICAgICAgLnRoZW4oKHIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gICAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldE1lc3NhZ2VCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGNvbnN0IHJlZmYgPSBkb2MoZGIsIFwibWVzYWplXCIsIGlkKTtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBnZXREb2MocmVmZik7XHJcbiAgICByZXNcclxuICAgICAgLnN0YXR1cygyMDApXHJcbiAgICAgIC5qc29uKHsgb2s6IHRydWUsIGRhdGE6IHsgaWQ6IG1lc3NhZ2UuaWQsIC4uLm1lc3NhZ2UuZGF0YSgpIH0gfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBhZGRNZXNzYWdlLCBnZXRBbGxNZXNzYWdlcywgZGVsZXRlTWVzc2FnZSwgZ2V0TWVzc2FnZUJ5SWQgfTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFELE9BQUE7QUFXQSxJQUFBRSxRQUFBLEdBQUFGLE9BQUE7QUFNQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFBa0MsU0FBQUksUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUEsV0FBQUUsTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixDQUFBLEVBQUFDLENBQUEsRUFBQVEsVUFBQSxPQUFBUCxDQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxDQUFBLEVBQUFJLENBQUEsWUFBQUosQ0FBQTtBQUFBLFNBQUFVLGNBQUFaLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFZLFNBQUEsQ0FBQUMsTUFBQSxFQUFBYixDQUFBLFVBQUFDLENBQUEsV0FBQVcsU0FBQSxDQUFBWixDQUFBLElBQUFZLFNBQUEsQ0FBQVosQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FB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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","addMessage","req","res","data","body","uid","uuid","console","log","document","addDoc","collection","db","status","json","ok","id","error","exports","getAllMessages","messages","getDocs","mes","deleteMessage","reff","doc","deleteDoc","then","catch","getMessageById","params","message","getDoc"],"sourceRoot":"D:\\zen_back\\messages\\","sources":["messages.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMessage = async (req, res) => {\r\n  const data = { ...req.body, uid: uuid() };\r\n  console.log(data);\r\n  try {\r\n    const document = await addDoc(collection(db, \"mesaje\"), data);\r\n    res.status(200).json({ ok: true, id: document.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getAllMessages = async (req, res) => {\r\n  try {\r\n    const data = [];\r\n    const messages = await getDocs(collection(db, \"mesaje\"));\r\n    messages.forEach((mes) => {\r\n      data.push({ ...mes.data(), id: mes.id });\r\n    });\r\n    res.status(200).json({ ok: true, data: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMessage = async (req, res) => {\r\n  try {\r\n    const id = req.body.id;\r\n    const reff = doc(db, \"mesaje\", id);\r\n    deleteDoc(reff)\r\n      .then((r) => {\r\n        console.log(r);\r\n        res.status(200).json({ ok: true });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).json({ ok: false, error });\r\n      });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMessageById = async (req, res) => {\r\n  try {\r\n    const id = req.params.id;\r\n    const reff = doc(db, \"mesaje\", id);\r\n    const message = await getDoc(reff);\r\n    res\r\n      .status(200)\r\n      .json({ ok: true, data: { id: message.id, ...message.data() } });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMessage, getAllMessages, deleteMessage, getMessageById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723932434481},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\messages\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\messages\\\\messages.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMessageById = exports.getAllMessages = exports.deleteMessage = exports.addMessage = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nconst addMessage = async (req, res) => {\n  const data = _objectSpread(_objectSpread({}, req.body), {}, {\n    uid: (0, _uuid.v4)()\n  });\n  console.log(data);\n  try {\n    const document = await (0, _firestore.addDoc)((0, _firestore.collection)(_config_fire.db, \"mesaje\"), data);\n    res.status(200).json({\n      ok: true,\n      id: document.id\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMessage = addMessage;\nconst getAllMessages = async (req, res) => {\n  try {\n    const data = [];\n    const messages = await (0, _firestore.getDocs)((0, _firestore.collection)(_config_fire.db, \"mesaje\"));\n    messages.forEach(mes => {\n      data.push(_objectSpread(_objectSpread({}, mes.data()), {}, {\n        id: mes.id\n      }));\n    });\n    res.status(200).json({\n      ok: true,\n      data: data\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getAllMessages = getAllMessages;\nconst deleteMessage = async (req, res) => {\n  try {\n    const id = req.body.id;\n    const reff = (0, _firestore.doc)(_config_fire.db, \"mesaje\", id);\n    (0, _firestore.deleteDoc)(reff).then(r => {\n      console.log(r);\n      res.status(200).json({\n        ok: true\n      });\n    }).catch(error => {\n      res.status(500).json({\n        ok: false,\n        error\n      });\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMessage = deleteMessage;\nconst getMessageById = async (req, res) => {\n  try {\n    const id = req.params.id;\n    const reff = (0, _firestore.doc)(_config_fire.db, \"mesaje\", id);\n    const message = await (0, _firestore.getDoc)(reff);\n    res.status(200).json({\n      ok: true,\n      data: _objectSpread({\n        id: message.id\n      }, message.data())\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMessageById = getMessageById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaSIsIl90b1ByaW1pdGl2ZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImFkZE1lc3NhZ2UiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInVpZCIsInV1aWQiLCJjb25zb2xlIiwibG9nIiwiZG9jdW1lbnQiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwiZGIiLCJzdGF0dXMiLCJqc29uIiwib2siLCJpZCIsImVycm9yIiwiZXhwb3J0cyIsImdldEFsbE1lc3NhZ2VzIiwibWVzc2FnZXMiLCJnZXREb2NzIiwibWVzIiwiZGVsZXRlTWVzc2FnZSIsInJlZmYiLCJkb2MiLCJkZWxldGVEb2MiLCJ0aGVuIiwiY2F0Y2giLCJnZXRNZXNzYWdlQnlJZCIsInBhcmFtcyIsIm1lc3NhZ2UiLCJnZXREb2MiXSwic291cmNlUm9vdCI6IkQ6XFx6ZW5fYmFja1xcbWVzc2FnZXNcXCIsInNvdXJjZXMiOlsibWVzc2FnZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVmLFxyXG4gIGdldERvd25sb2FkVVJMLFxyXG4gIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLFxyXG4gIHVwbG9hZEJ5dGVzLFxyXG59IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgYWRkTWVzc2FnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSB7IC4uLnJlcS5ib2R5LCB1aWQ6IHV1aWQoKSB9O1xyXG4gIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBcIm1lc2FqZVwiKSwgZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBpZDogZG9jdW1lbnQuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxNZXNzYWdlcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gW107XHJcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgXCJtZXNhamVcIikpO1xyXG4gICAgbWVzc2FnZXMuZm9yRWFjaCgobWVzKSA9PiB7XHJcbiAgICAgIGRhdGEucHVzaCh7IC4uLm1lcy5kYXRhKCksIGlkOiBtZXMuaWQgfSk7XHJcbiAgICB9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGRhdGE6IGRhdGEgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZXNzYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjb25zdCByZWZmID0gZG9jKGRiLCBcIm1lc2FqZVwiLCBpZCk7XHJcbiAgICBkZWxldGVEb2MocmVmZilcclxuICAgICAgLnRoZW4oKHIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gICAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldE1lc3NhZ2VCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGNvbnN0IHJlZmYgPSBkb2MoZGIsIFwibWVzYWplXCIsIGlkKTtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBnZXREb2MocmVmZik7XHJcbiAgICByZXNcclxuICAgICAgLnN0YXR1cygyMDApXHJcbiAgICAgIC5qc29uKHsgb2s6IHRydWUsIGRhdGE6IHsgaWQ6IG1lc3NhZ2UuaWQsIC4uLm1lc3NhZ2UuZGF0YSgpIH0gfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBhZGRNZXNzYWdlLCBnZXRBbGxNZXNzYWdlcywgZGVsZXRlTWVzc2FnZSwgZ2V0TWVzc2FnZUJ5SWQgfTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFELE9BQUE7QUFXQSxJQUFBRSxRQUFBLEdBQUFGLE9BQUE7QUFNQSxJQUFBRyxLQUFBLEdBQUFILE9BQUE7QUFBa0MsU0FBQUksUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUEsV0FBQUUsTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixDQUFBLEVBQUFDLENBQUEsRUFBQVEsVUFBQSxPQUFBUCxDQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxDQUFBLEVBQUFJLENBQUEsWUFBQUosQ0FBQTtBQUFBLFNBQUFVLGNBQUFaLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFZLFNBQUEsQ0FBQUMsTUFBQSxFQUFBYixDQUFBLFVBQUFDLENBQUEsV0FBQVcsU0FBQSxDQUFBWixDQUFBLElBQUFZLFNBQUEsQ0FBQVosQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FB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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","addMessage","req","res","data","body","uid","uuid","console","log","document","addDoc","collection","db","status","json","ok","id","error","exports","getAllMessages","messages","getDocs","mes","deleteMessage","reff","doc","deleteDoc","then","catch","getMessageById","params","message","getDoc"],"sourceRoot":"D:\\zen_back\\messages\\","sources":["messages.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMessage = async (req, res) => {\r\n  const data = { ...req.body, uid: uuid() };\r\n  console.log(data);\r\n  try {\r\n    const document = await addDoc(collection(db, \"mesaje\"), data);\r\n    res.status(200).json({ ok: true, id: document.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getAllMessages = async (req, res) => {\r\n  try {\r\n    const data = [];\r\n    const messages = await getDocs(collection(db, \"mesaje\"));\r\n    messages.forEach((mes) => {\r\n      data.push({ ...mes.data(), id: mes.id });\r\n    });\r\n    res.status(200).json({ ok: true, data: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMessage = async (req, res) => {\r\n  try {\r\n    const id = req.body.id;\r\n    const reff = doc(db, \"mesaje\", id);\r\n    deleteDoc(reff)\r\n      .then((r) => {\r\n        console.log(r);\r\n        res.status(200).json({ ok: true });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).json({ ok: false, error });\r\n      });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMessageById = async (req, res) => {\r\n  try {\r\n    const id = req.params.id;\r\n    const reff = doc(db, \"mesaje\", id);\r\n    const message = await getDoc(reff);\r\n    res\r\n      .status(200)\r\n      .json({ ok: true, data: { id: message.id, ...message.data() } });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMessage, getAllMessages, deleteMessage, getMessageById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723932434481}}