{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _categories = require(\"./meditations/categories\");\nvar _expressFileupload = _interopRequireDefault(require(\"express-fileupload\"));\nvar _meditations = require(\"./meditations/meditations\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst app = (0, _express.default)();\napp.use((0, _expressFileupload.default)());\napp.use((0, _express.json)());\napp.use((0, _cors.default)());\nconst PORT = process.env.PORT || 3001;\napp.post(\"/addMedCat\", _categories.addMedCat);\napp.get(\"/getAllMedCats\", _categories.getAllMedCats);\napp.get(\"/getMedCatById/:id\", _categories.getMedCatById);\napp.post(\"/deleteMedCatById\", _categories.deleteMedCatById);\napp.post(\"/addMedToCat\", _meditations.addMedToCat);\napp.post(\"/deleteMedFromCat\", _meditations.deleteMedFromCat);\napp.post(\"/getMedFromCatById/:uid/:id\", _meditations.getMedFromCatById);\n// async (req, res) => {\n//   (req, res);\n//   res.json({ status: true, message: \"Our node.js app works\" });\n// });\n\napp.listen(PORT, () => console.log(`App listening at port ${PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9jb3JzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jYXRlZ29yaWVzIiwiX2V4cHJlc3NGaWxldXBsb2FkIiwiX21lZGl0YXRpb25zIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsInIiLCJ0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImZpbGVVcGxvYWQiLCJqc29uIiwiY29ycyIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwicG9zdCIsImFkZE1lZENhdCIsImdldEFsbE1lZENhdHMiLCJnZXRNZWRDYXRCeUlkIiwiZGVsZXRlTWVkQ2F0QnlJZCIsImFkZE1lZFRvQ2F0IiwiZGVsZXRlTWVkRnJvbUNhdCIsImdldE1lZEZyb21DYXRCeUlkIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiRDpcXHplbl9iYWNrXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcywgeyBqc29uIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxuaW1wb3J0IHtcclxuICBhZGRNZWRDYXQsXHJcbiAgZ2V0QWxsTWVkQ2F0cyxcclxuICBnZXRNZWRDYXRCeUlkLFxyXG4gIGRlbGV0ZU1lZENhdEJ5SWQsXHJcbn0gZnJvbSBcIi4vbWVkaXRhdGlvbnMvY2F0ZWdvcmllc1wiO1xyXG5pbXBvcnQgZmlsZVVwbG9hZCBmcm9tIFwiZXhwcmVzcy1maWxldXBsb2FkXCI7XHJcbmltcG9ydCB7IGFkZE1lZFRvQ2F0LCBkZWxldGVNZWRGcm9tQ2F0LCBnZXRNZWRGcm9tQ2F0QnlJZCB9IGZyb20gXCIuL21lZGl0YXRpb25zL21lZGl0YXRpb25zXCI7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoZmlsZVVwbG9hZCgpKTtcclxuYXBwLnVzZShqc29uKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAxO1xyXG5cclxuYXBwLnBvc3QoXCIvYWRkTWVkQ2F0XCIsIGFkZE1lZENhdCk7XHJcbmFwcC5nZXQoXCIvZ2V0QWxsTWVkQ2F0c1wiLCBnZXRBbGxNZWRDYXRzKTtcclxuYXBwLmdldChcIi9nZXRNZWRDYXRCeUlkLzppZFwiLCBnZXRNZWRDYXRCeUlkKTtcclxuYXBwLnBvc3QoXCIvZGVsZXRlTWVkQ2F0QnlJZFwiLCBkZWxldGVNZWRDYXRCeUlkKTtcclxuXHJcbmFwcC5wb3N0KFwiL2FkZE1lZFRvQ2F0XCIsIGFkZE1lZFRvQ2F0KVxyXG5hcHAucG9zdChcIi9kZWxldGVNZWRGcm9tQ2F0XCIsIGRlbGV0ZU1lZEZyb21DYXQpXHJcbmFwcC5wb3N0KFwiL2dldE1lZEZyb21DYXRCeUlkLzp1aWQvOmlkXCIsIGdldE1lZEZyb21DYXRCeUlkKVxyXG4vLyBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAocmVxLCByZXMpO1xyXG4vLyAgIHJlcy5qc29uKHsgc3RhdHVzOiB0cnVlLCBtZXNzYWdlOiBcIk91ciBub2RlLmpzIGFwcCB3b3Jrc1wiIH0pO1xyXG4vLyB9KTtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4gY29uc29sZS5sb2coYEFwcCBsaXN0ZW5pbmcgYXQgcG9ydCAke1BPUlR9YCkpO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFB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","map":{"version":3,"names":["_express","_interopRequireWildcard","require","_cors","_interopRequireDefault","_categories","_expressFileupload","_meditations","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","app","express","use","fileUpload","json","cors","PORT","process","env","post","addMedCat","getAllMedCats","getMedCatById","deleteMedCatById","addMedToCat","deleteMedFromCat","getMedFromCatById","listen","console","log"],"sourceRoot":"D:\\zen_back\\","sources":["server.js"],"sourcesContent":["import express, { json } from \"express\";\r\nimport cors from \"cors\";\r\nimport {\r\n  addMedCat,\r\n  getAllMedCats,\r\n  getMedCatById,\r\n  deleteMedCatById,\r\n} from \"./meditations/categories\";\r\nimport fileUpload from \"express-fileupload\";\r\nimport { addMedToCat, deleteMedFromCat, getMedFromCatById } from \"./meditations/meditations\";\r\nconst app = express();\r\n\r\napp.use(fileUpload());\r\napp.use(json());\r\napp.use(cors());\r\n\r\nconst PORT = process.env.PORT || 3001;\r\n\r\napp.post(\"/addMedCat\", addMedCat);\r\napp.get(\"/getAllMedCats\", getAllMedCats);\r\napp.get(\"/getMedCatById/:id\", getMedCatById);\r\napp.post(\"/deleteMedCatById\", deleteMedCatById);\r\n\r\napp.post(\"/addMedToCat\", addMedToCat)\r\napp.post(\"/deleteMedFromCat\", deleteMedFromCat)\r\napp.post(\"/getMedFromCatById/:uid/:id\", getMedFromCatById)\r\n// async (req, res) => {\r\n//   (req, res);\r\n//   res.json({ status: true, message: \"Our node.js app works\" });\r\n// });\r\n\r\napp.listen(PORT, () => console.log(`App listening at port ${PORT}`));\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,WAAA,GAAAH,OAAA;AAMA,IAAAI,kBAAA,GAAAF,sBAAA,CAAAF,OAAA;AACA,IAAAK,YAAA,GAAAL,OAAA;AAA6F,SAAAE,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,yBAAAH,CAAA,6BAAAI,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,CAAAH,CAAA,WAAAA,CAAA,GAAAM,CAAA,GAAAD,CAAA,KAAAL,CAAA;AAAA,SAAAP,wBAAAO,CAAA,EAAAK,CAAA,SAAAA,CAAA,IAAAL,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAE,OAAA,EAAAF,CAAA,QAAAM,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAP,CAAA,UAAAM,CAAA,CAAAE,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,CAAAP,OAAA,GAAAF,CAAA,EAAAM,CAAA,IAAAA,CAAA,CAAAa,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAC7F,MAAMW,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBD,GAAG,CAACE,GAAG,CAAC,IAAAC,0BAAU,EAAC,CAAC,CAAC;AACrBH,GAAG,CAACE,GAAG,CAAC,IAAAE,aAAI,EAAC,CAAC,CAAC;AACfJ,GAAG,CAACE,GAAG,CAAC,IAAAG,aAAI,EAAC,CAAC,CAAC;AAEf,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;AAErCN,GAAG,CAACS,IAAI,CAAC,YAAY,EAAEC,qBAAS,CAAC;AACjCV,GAAG,CAACZ,GAAG,CAAC,gBAAgB,EAAEuB,yBAAa,CAAC;AACxCX,GAAG,CAACZ,GAAG,CAAC,oBAAoB,EAAEwB,yBAAa,CAAC;AAC5CZ,GAAG,CAACS,IAAI,CAAC,mBAAmB,EAAEI,4BAAgB,CAAC;AAE/Cb,GAAG,CAACS,IAAI,CAAC,cAAc,EAAEK,wBAAW,CAAC;AACrCd,GAAG,CAACS,IAAI,CAAC,mBAAmB,EAAEM,6BAAgB,CAAC;AAC/Cf,GAAG,CAACS,IAAI,CAAC,6BAA6B,EAAEO,8BAAiB,CAAC;AAC1D;AACA;AACA;AACA;;AAEAhB,GAAG,CAACiB,MAAM,CAACX,IAAI,EAAE,MAAMY,OAAO,CAACC,GAAG,CAAC,yBAAyBb,IAAI,EAAE,CAAC,CAAC","ignoreList":[]}},"mtime":1723888992367},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\categories.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedCatById = exports.getAllMedCats = exports.deleteMedCatById = exports.addMedCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nconst addMedCat = async (req, res) => {\n  const data = {\n    categoryTitle: req.body.categoryTitle,\n    backgroundImage: \"\",\n    meditationRoutines: []\n  };\n  console.log(req.files[\"backgroundImage\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/cat/${req.files[\"backgroundImage\"].name}`);\n    // var reader = new window.FileReader();\n    // reader.onload = function () {\n    //   var blob = window.dataURLtoBlob(reader.result);\n    // };\n\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\n\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"backgroundImage\"].data\n    // reader/\n    );\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    data[\"backgroundImage\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const document = await (0, _firestore.addDoc)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"), data);\n    res.status(200).json({\n      ok: true,\n      id: document.id\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedCat = addMedCat;\nconst getAllMedCats = async (req, res) => {\n  const data = [];\n  try {\n    const medCats = await (0, _firestore.getDocs)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"));\n    medCats.forEach(doc => {\n      data.push(_objectSpread({\n        uid: doc.id\n      }, doc.data()));\n    });\n    res.status(200).json({\n      ok: true,\n      data\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getAllMedCats = getAllMedCats;\nconst getMedCatById = async (req, res) => {\n  console.log(req.params.id);\n  try {\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.id);\n    const medcat = await (0, _firestore.getDoc)(ref);\n    res.status(200).json({\n      ok: true,\n      data: _objectSpread({\n        uid: medcat.id\n      }, medcat.data())\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedCatById = getMedCatById;\nconst deleteMedCatById = async (req, res) => {\n  try {\n    console.log(req.body);\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.id);\n    (0, _firestore.deleteDoc)(ref).then(r => {\n      console.log(r);\n      res.status(200).json({\n        ok: true\n      });\n    }).catch(error => {\n      res.status(500).json({\n        ok: false,\n        error\n      });\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedCatById = deleteMedCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaSIsIl90b1ByaW1pdGl2ZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImFkZE1lZENhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeVRpdGxlIiwiYm9keSIsImJhY2tncm91bmRJbWFnZSIsIm1lZGl0YXRpb25Sb3V0aW5lcyIsImNvbnNvbGUiLCJsb2ciLCJmaWxlcyIsInN0b3JhZ2VSZWYiLCJyZWYiLCJzdG9yYWdlIiwibmFtZSIsInVwbG9hZEJ5dGVzIiwidXJsIiwiZ2V0RG93bmxvYWRVUkwiLCJ1dWlkIiwiZG9jdW1lbnQiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwiZGIiLCJzdGF0dXMiLCJqc29uIiwib2siLCJpZCIsImVycm9yIiwiZXhwb3J0cyIsImdldEFsbE1lZENhdHMiLCJtZWRDYXRzIiwiZ2V0RG9jcyIsImRvYyIsInVpZCIsImdldE1lZENhdEJ5SWQiLCJwYXJhbXMiLCJtZWRjYXQiLCJnZXREb2MiLCJkZWxldGVNZWRDYXRCeUlkIiwiZGVsZXRlRG9jIiwidGhlbiIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiJEOlxcemVuX2JhY2tcXG1lZGl0YXRpb25zXFwiLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHdoZXJlLFxyXG59IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IHtcclxuICByZWYsXHJcbiAgZ2V0RG93bmxvYWRVUkwsXHJcbiAgdXBsb2FkQnl0ZXNSZXN1bWFibGUsXHJcbiAgdXBsb2FkQnl0ZXMsXHJcbn0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5jb25zdCBhZGRNZWRDYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnlUaXRsZTogcmVxLmJvZHkuY2F0ZWdvcnlUaXRsZSxcclxuICAgIGJhY2tncm91bmRJbWFnZTogXCJcIixcclxuICAgIG1lZGl0YXRpb25Sb3V0aW5lczogW10sXHJcbiAgfTtcclxuICBjb25zb2xlLmxvZyhyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihcclxuICAgICAgc3RvcmFnZSxcclxuICAgICAgYC9tZWRpdGF0aW9ucy9jYXQvJHtyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0ubmFtZX1gXHJcbiAgICApO1xyXG4gICAgLy8gdmFyIHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpO1xyXG4gICAgLy8gcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdmFyIGJsb2IgPSB3aW5kb3cuZGF0YVVSTHRvQmxvYihyZWFkZXIucmVzdWx0KTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwocmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdKTtcclxuXHJcbiAgICBhd2FpdCB1cGxvYWRCeXRlcyhcclxuICAgICAgc3RvcmFnZVJlZixcclxuICAgICAgcmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdLmRhdGFcclxuICAgICAgLy8gcmVhZGVyL1xyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1cmwgPSBhd2FpdCBnZXREb3dubG9hZFVSTChzdG9yYWdlUmVmKTtcclxuICAgIGRhdGFbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0gPSB1cmw7XHJcbiAgICBkYXRhW1wiaWRcIl0gPSB1dWlkKCk7XHJcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSwgZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBpZDogZG9jdW1lbnQuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxNZWRDYXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IFtdO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZWRDYXRzID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSk7XHJcbiAgICBtZWRDYXRzLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgICBkYXRhLnB1c2goeyB1aWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTtcclxuICAgIH0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSwgZGF0YSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldE1lZENhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLmlkKTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCByZXEucGFyYW1zLmlkKTtcclxuICAgIGNvbnN0IG1lZGNhdCA9IGF3YWl0IGdldERvYyhyZWYpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgZGF0YTogeyB1aWQ6IG1lZGNhdC5pZCwgLi4ubWVkY2F0LmRhdGEoKSB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRDYXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGNvbnN0IHJlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLmJvZHkuaWQpO1xyXG5cclxuICAgIGRlbGV0ZURvYyhyZWYpXHJcbiAgICAgIC50aGVuKChyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICAgICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCB7IGFkZE1lZENhdCwgZ2V0QWxsTWVkQ2F0cywgZ2V0TWVkQ2F0QnlJZCwgZGVsZXRlTWVkQ2F0QnlJZCB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUQsT0FBQTtBQVVBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQU1BLElBQUFHLEtBQUEsR0FBQUgsT0FBQTtBQUFrQyxTQUFBSSxRQUFBQyxDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLElBQUEsQ0FBQUosQ0FBQSxPQUFBRyxNQUFBLENBQUFFLHFCQUFBLFFBQUFDLENBQUEsR0FBQUgsTUFBQSxDQUFBRSxxQkFBQSxDQUFBTCxDQUFBLEdBQUFDLENBQUEsS0FBQUssQ0FBQSxHQUFBQSxDQUFBLENBQUFDLE1BQUEsV0FBQU4sQ0FBQSxXQUFBRSxNQUFBLENBQUFLLHdCQUFBLENBQUFSLENBQUEsRUFBQUMsQ0FBQSxFQUFBUSxVQUFBLE9BQUFQLENBQUEsQ0FBQVEsSUFBQSxDQUFBQyxLQUFBLENBQUFULENBQUEsRUFBQUksQ0FBQSxZQUFBSixDQUFBO0FBQUEsU0FBQVUsY0FBQVosQ0FBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQVksU0FBQSxDQUFBQyxNQUFBLEVBQUFiLENBQUEsVUFBQUMsQ0FBQSxXQUFBVyxTQUFBLENBQUFaLENBQUEsSUFBQVksU0FBQSxDQUFBWixDQUFBLFFBQUFBLENBQUEsT0FBQUYsT0FBQSxDQUFBSSxNQUFBLENBQUFELENBQUEsT0FBQWEsT0FBQSxXQUFBZCxDQUFBLElBQUFlLGVBQUEsQ0FBQWhCLENB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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","addMedCat","req","res","data","categoryTitle","body","backgroundImage","meditationRoutines","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","uuid","document","addDoc","collection","db","status","json","ok","id","error","exports","getAllMedCats","medCats","getDocs","doc","uid","getMedCatById","params","medcat","getDoc","deleteMedCatById","deleteDoc","then","catch"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["categories.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedCat = async (req, res) => {\r\n  const data = {\r\n    categoryTitle: req.body.categoryTitle,\r\n    backgroundImage: \"\",\r\n    meditationRoutines: [],\r\n  };\r\n  console.log(req.files[\"backgroundImage\"]);\r\n\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/cat/${req.files[\"backgroundImage\"].name}`\r\n    );\r\n    // var reader = new window.FileReader();\r\n    // reader.onload = function () {\r\n    //   var blob = window.dataURLtoBlob(reader.result);\r\n    // };\r\n\r\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\r\n\r\n    await uploadBytes(\r\n      storageRef,\r\n      req.files[\"backgroundImage\"].data\r\n      // reader/\r\n    );\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n    data[\"backgroundImage\"] = url;\r\n    data[\"id\"] = uuid();\r\n    const document = await addDoc(collection(db, \"categorie_meditati\"), data);\r\n    res.status(200).json({ ok: true, id: document.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getAllMedCats = async (req, res) => {\r\n  const data = [];\r\n  try {\r\n    const medCats = await getDocs(collection(db, \"categorie_meditati\"));\r\n    medCats.forEach((doc) => {\r\n      data.push({ uid: doc.id, ...doc.data() });\r\n    });\r\n    res.status(200).json({ ok: true, data });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedCatById = async (req, res) => {\r\n  console.log(req.params.id);\r\n  try {\r\n    const ref = doc(db, \"categorie_meditati\", req.params.id);\r\n    const medcat = await getDoc(ref);\r\n    res.status(200).json({\r\n      ok: true,\r\n      data: { uid: medcat.id, ...medcat.data() },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.body);\r\n    const ref = doc(db, \"categorie_meditati\", req.body.id);\r\n\r\n    deleteDoc(ref)\r\n      .then((r) => {\r\n        console.log(r);\r\n        res.status(200).json({ ok: true });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).json({ ok: false, error });\r\n      });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\nexport { addMedCat, getAllMedCats, getMedCatById, deleteMedCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723852582957},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\config_fire.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storage = exports.db = void 0;\nrequire(\"dotenv/config\");\nvar _app = require(\"firebase/app\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nconst firebaseConfig = {\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  databaseURL: process.env.databaseURL,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.measurementId,\n  appId: process.env.apiKey,\n  measurementId: process.env.measurementId\n};\nconst app = (0, _app.initializeApp)(firebaseConfig);\nconst db = exports.db = (0, _firestore.getFirestore)(app);\nconst storage = exports.storage = (0, _storage.getStorage)();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiX2FwcCIsIl9maXJlc3RvcmUiLCJfc3RvcmFnZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsImF1dGhEb21haW4iLCJkYXRhYmFzZVVSTCIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIm1lYXN1cmVtZW50SWQiLCJhcHBJZCIsImFwcCIsImluaXRpYWxpemVBcHAiLCJkYiIsImV4cG9ydHMiLCJnZXRGaXJlc3RvcmUiLCJzdG9yYWdlIiwiZ2V0U3RvcmFnZSJdLCJzb3VyY2VSb290IjoiRDpcXHplbl9iYWNrXFwiLCJzb3VyY2VzIjpbImNvbmZpZ19maXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xyXG5pbXBvcnQgeyBnZXRTdG9yYWdlfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5hcGlLZXksXHJcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuYXV0aERvbWFpbixcclxuICBkYXRhYmFzZVVSTDogcHJvY2Vzcy5lbnYuZGF0YWJhc2VVUkwsXHJcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5wcm9qZWN0SWQsXHJcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuc3RvcmFnZUJ1Y2tldCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYubWVhc3VyZW1lbnRJZCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuYXBpS2V5LFxyXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lm1lYXN1cmVtZW50SWQsXHJcbn07XHJcblxyXG5cclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcbmNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XHJcbmV4cG9ydCB7IGRiLCBzdG9yYWdlIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUFBLE9BQUE7QUFDQSxJQUFBQyxJQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFFQSxNQUFNSSxjQUFjLEdBQUc7RUFDckJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE1BQU07RUFDMUJHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7RUFDbENDLFdBQVcsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFdBQVc7RUFDcENDLFNBQVMsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHLFNBQVM7RUFDaENDLGFBQWEsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWE7RUFDeENDLGlCQUFpQixFQUFFTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sYUFBYTtFQUM1Q0MsS0FBSyxFQUFFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsTUFBTTtFQUN6QlEsYUFBYSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ007QUFDN0IsQ0FBQztBQUdELE1BQU1FLEdBQUcsR0FBRyxJQUFBQyxrQkFBYSxFQUFDWixjQUFjLENBQUM7QUFDekMsTUFBTWEsRUFBRSxHQUFBQyxPQUFBLENBQUFELEVBQUEsR0FBRyxJQUFBRSx1QkFBWSxFQUFDSixHQUFHLENBQUM7QUFDNUIsTUFBTUssT0FBTyxHQUFBRixPQUFBLENBQUFFLE9BQUEsR0FBRyxJQUFBQyxtQkFBVSxFQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["require","_app","_firestore","_storage","firebaseConfig","apiKey","process","env","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","measurementId","appId","app","initializeApp","db","exports","getFirestore","storage","getStorage"],"sourceRoot":"D:\\zen_back\\","sources":["config_fire.js"],"sourcesContent":["import \"dotenv/config\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage} from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.apiKey,\r\n  authDomain: process.env.authDomain,\r\n  databaseURL: process.env.databaseURL,\r\n  projectId: process.env.projectId,\r\n  storageBucket: process.env.storageBucket,\r\n  messagingSenderId: process.env.measurementId,\r\n  appId: process.env.apiKey,\r\n  measurementId: process.env.measurementId,\r\n};\r\n\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage();\r\nexport { db, storage };\r\n"],"mappings":";;;;;;AAAAA,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAEA,MAAMI,cAAc,GAAG;EACrBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACF,MAAM;EAC1BG,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACC,UAAU;EAClCC,WAAW,EAAEH,OAAO,CAACC,GAAG,CAACE,WAAW;EACpCC,SAAS,EAAEJ,OAAO,CAACC,GAAG,CAACG,SAAS;EAChCC,aAAa,EAAEL,OAAO,CAACC,GAAG,CAACI,aAAa;EACxCC,iBAAiB,EAAEN,OAAO,CAACC,GAAG,CAACM,aAAa;EAC5CC,KAAK,EAAER,OAAO,CAACC,GAAG,CAACF,MAAM;EACzBQ,aAAa,EAAEP,OAAO,CAACC,GAAG,CAACM;AAC7B,CAAC;AAGD,MAAME,GAAG,GAAG,IAAAC,kBAAa,EAACZ,cAAc,CAAC;AACzC,MAAMa,EAAE,GAAAC,OAAA,CAAAD,EAAA,GAAG,IAAAE,uBAAY,EAACJ,GAAG,CAAC;AAC5B,MAAMK,OAAO,GAAAF,OAAA,CAAAE,OAAA,GAAG,IAAAC,mBAAU,EAAC,CAAC","ignoreList":[]}},"mtime":1723758626287},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\categories.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedCatById = exports.getAllMedCats = exports.deleteMedCatById = exports.addMedCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nconst addMedCat = async (req, res) => {\n  const data = {\n    categoryTitle: req.body.categoryTitle,\n    backgroundImage: \"\",\n    meditationRoutines: []\n  };\n  console.log(req.files[\"backgroundImage\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/cat/${req.files[\"backgroundImage\"].name}`);\n    // var reader = new window.FileReader();\n    // reader.onload = function () {\n    //   var blob = window.dataURLtoBlob(reader.result);\n    // };\n\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\n\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"backgroundImage\"].data\n    // reader/\n    );\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    data[\"backgroundImage\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const document = await (0, _firestore.addDoc)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"), data);\n    res.status(200).json({\n      ok: true,\n      id: document.id\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedCat = addMedCat;\nconst getAllMedCats = async (req, res) => {\n  const data = [];\n  try {\n    const medCats = await (0, _firestore.getDocs)((0, _firestore.collection)(_config_fire.db, \"categorie_meditati\"));\n    medCats.forEach(doc => {\n      data.push(_objectSpread({\n        uid: doc.id\n      }, doc.data()));\n    });\n    res.status(200).json({\n      ok: true,\n      data\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getAllMedCats = getAllMedCats;\nconst getMedCatById = async (req, res) => {\n  console.log(req.params.id);\n  try {\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.id);\n    const medcat = await (0, _firestore.getDoc)(ref);\n    res.status(200).json({\n      ok: true,\n      data: _objectSpread({\n        uid: medcat.id\n      }, medcat.data())\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedCatById = getMedCatById;\nconst deleteMedCatById = async (req, res) => {\n  try {\n    console.log(req.body);\n    const ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.id);\n    (0, _firestore.deleteDoc)(ref).then(r => {\n      console.log(r);\n      res.status(200).json({\n        ok: true\n      });\n    }).catch(error => {\n      res.status(500).json({\n        ok: false,\n        error\n      });\n    });\n  } catch (error) {\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedCatById = deleteMedCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaSIsIl90b1ByaW1pdGl2ZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImFkZE1lZENhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeVRpdGxlIiwiYm9keSIsImJhY2tncm91bmRJbWFnZSIsIm1lZGl0YXRpb25Sb3V0aW5lcyIsImNvbnNvbGUiLCJsb2ciLCJmaWxlcyIsInN0b3JhZ2VSZWYiLCJyZWYiLCJzdG9yYWdlIiwibmFtZSIsInVwbG9hZEJ5dGVzIiwidXJsIiwiZ2V0RG93bmxvYWRVUkwiLCJ1dWlkIiwiZG9jdW1lbnQiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwiZGIiLCJzdGF0dXMiLCJqc29uIiwib2siLCJpZCIsImVycm9yIiwiZXhwb3J0cyIsImdldEFsbE1lZENhdHMiLCJtZWRDYXRzIiwiZ2V0RG9jcyIsImRvYyIsInVpZCIsImdldE1lZENhdEJ5SWQiLCJwYXJhbXMiLCJtZWRjYXQiLCJnZXREb2MiLCJkZWxldGVNZWRDYXRCeUlkIiwiZGVsZXRlRG9jIiwidGhlbiIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiJEOlxcemVuX2JhY2tcXG1lZGl0YXRpb25zXFwiLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHdoZXJlLFxyXG59IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IHtcclxuICByZWYsXHJcbiAgZ2V0RG93bmxvYWRVUkwsXHJcbiAgdXBsb2FkQnl0ZXNSZXN1bWFibGUsXHJcbiAgdXBsb2FkQnl0ZXMsXHJcbn0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5jb25zdCBhZGRNZWRDYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnlUaXRsZTogcmVxLmJvZHkuY2F0ZWdvcnlUaXRsZSxcclxuICAgIGJhY2tncm91bmRJbWFnZTogXCJcIixcclxuICAgIG1lZGl0YXRpb25Sb3V0aW5lczogW10sXHJcbiAgfTtcclxuICBjb25zb2xlLmxvZyhyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihcclxuICAgICAgc3RvcmFnZSxcclxuICAgICAgYC9tZWRpdGF0aW9ucy9jYXQvJHtyZXEuZmlsZXNbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0ubmFtZX1gXHJcbiAgICApO1xyXG4gICAgLy8gdmFyIHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpO1xyXG4gICAgLy8gcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdmFyIGJsb2IgPSB3aW5kb3cuZGF0YVVSTHRvQmxvYihyZWFkZXIucmVzdWx0KTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwocmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdKTtcclxuXHJcbiAgICBhd2FpdCB1cGxvYWRCeXRlcyhcclxuICAgICAgc3RvcmFnZVJlZixcclxuICAgICAgcmVxLmZpbGVzW1wiYmFja2dyb3VuZEltYWdlXCJdLmRhdGFcclxuICAgICAgLy8gcmVhZGVyL1xyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1cmwgPSBhd2FpdCBnZXREb3dubG9hZFVSTChzdG9yYWdlUmVmKTtcclxuICAgIGRhdGFbXCJiYWNrZ3JvdW5kSW1hZ2VcIl0gPSB1cmw7XHJcbiAgICBkYXRhW1wiaWRcIl0gPSB1dWlkKCk7XHJcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSwgZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBpZDogZG9jdW1lbnQuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBbGxNZWRDYXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IFtdO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZWRDYXRzID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiKSk7XHJcbiAgICBtZWRDYXRzLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgICBkYXRhLnB1c2goeyB1aWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTtcclxuICAgIH0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSwgZGF0YSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldE1lZENhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLmlkKTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCByZXEucGFyYW1zLmlkKTtcclxuICAgIGNvbnN0IG1lZGNhdCA9IGF3YWl0IGdldERvYyhyZWYpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgZGF0YTogeyB1aWQ6IG1lZGNhdC5pZCwgLi4ubWVkY2F0LmRhdGEoKSB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRDYXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGNvbnN0IHJlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLmJvZHkuaWQpO1xyXG5cclxuICAgIGRlbGV0ZURvYyhyZWYpXHJcbiAgICAgIC50aGVuKChyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICAgICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCB7IGFkZE1lZENhdCwgZ2V0QWxsTWVkQ2F0cywgZ2V0TWVkQ2F0QnlJZCwgZGVsZXRlTWVkQ2F0QnlJZCB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUQsT0FBQTtBQVVBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQU1BLElBQUFHLEtBQUEsR0FBQUgsT0FBQTtBQUFrQyxTQUFBSSxRQUFBQyxDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLElBQUEsQ0FBQUosQ0FBQSxPQUFBRyxNQUFBLENBQUFFLHFCQUFBLFFBQUFDLENBQUEsR0FBQUgsTUFBQSxDQUFBRSxxQkFBQSxDQUFBTCxDQUFBLEdBQUFDLENBQUEsS0FBQUssQ0FBQSxHQUFBQSxDQUFBLENBQUFDLE1BQUEsV0FBQU4sQ0FBQSxXQUFBRSxNQUFBLENBQUFLLHdCQUFBLENBQUFSLENBQUEsRUFBQUMsQ0FBQSxFQUFBUSxVQUFBLE9BQUFQLENBQUEsQ0FBQVEsSUFBQSxDQUFBQyxLQUFBLENBQUFULENBQUEsRUFBQUksQ0FBQSxZQUFBSixDQUFBO0FBQUEsU0FBQVUsY0FBQVosQ0FBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQVksU0FBQSxDQUFBQyxNQUFBLEVBQUFiLENBQUEsVUFBQUMsQ0FBQSxXQUFBVyxTQUFBLENBQUFaLENBQUEsSUFBQVksU0FBQSxDQUFBWixDQUFBLFFBQUFBLENBQUEsT0FBQUYsT0FBQSxDQUFBSSxNQUFBLENBQUFELENBQUEsT0FBQWEsT0FBQSxXQUFBZCxDQUFBLElBQUFlLGVBQUEsQ0FBQWhCLENB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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","addMedCat","req","res","data","categoryTitle","body","backgroundImage","meditationRoutines","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","uuid","document","addDoc","collection","db","status","json","ok","id","error","exports","getAllMedCats","medCats","getDocs","doc","uid","getMedCatById","params","medcat","getDoc","deleteMedCatById","deleteDoc","then","catch"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["categories.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedCat = async (req, res) => {\r\n  const data = {\r\n    categoryTitle: req.body.categoryTitle,\r\n    backgroundImage: \"\",\r\n    meditationRoutines: [],\r\n  };\r\n  console.log(req.files[\"backgroundImage\"]);\r\n\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/cat/${req.files[\"backgroundImage\"].name}`\r\n    );\r\n    // var reader = new window.FileReader();\r\n    // reader.onload = function () {\r\n    //   var blob = window.dataURLtoBlob(reader.result);\r\n    // };\r\n\r\n    // reader.readAsDataURL(req.files[\"backgroundImage\"]);\r\n\r\n    await uploadBytes(\r\n      storageRef,\r\n      req.files[\"backgroundImage\"].data\r\n      // reader/\r\n    );\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n    data[\"backgroundImage\"] = url;\r\n    data[\"id\"] = uuid();\r\n    const document = await addDoc(collection(db, \"categorie_meditati\"), data);\r\n    res.status(200).json({ ok: true, id: document.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getAllMedCats = async (req, res) => {\r\n  const data = [];\r\n  try {\r\n    const medCats = await getDocs(collection(db, \"categorie_meditati\"));\r\n    medCats.forEach((doc) => {\r\n      data.push({ uid: doc.id, ...doc.data() });\r\n    });\r\n    res.status(200).json({ ok: true, data });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedCatById = async (req, res) => {\r\n  console.log(req.params.id);\r\n  try {\r\n    const ref = doc(db, \"categorie_meditati\", req.params.id);\r\n    const medcat = await getDoc(ref);\r\n    res.status(200).json({\r\n      ok: true,\r\n      data: { uid: medcat.id, ...medcat.data() },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.body);\r\n    const ref = doc(db, \"categorie_meditati\", req.body.id);\r\n\r\n    deleteDoc(ref)\r\n      .then((r) => {\r\n        console.log(r);\r\n        res.status(200).json({ ok: true });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).json({ ok: false, error });\r\n      });\r\n  } catch (error) {\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\nexport { addMedCat, getAllMedCats, getMedCatById, deleteMedCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723852582957},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\config_fire.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storage = exports.db = void 0;\nrequire(\"dotenv/config\");\nvar _app = require(\"firebase/app\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nconst firebaseConfig = {\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  databaseURL: process.env.databaseURL,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.measurementId,\n  appId: process.env.apiKey,\n  measurementId: process.env.measurementId\n};\nconst app = (0, _app.initializeApp)(firebaseConfig);\nconst db = exports.db = (0, _firestore.getFirestore)(app);\nconst storage = exports.storage = (0, _storage.getStorage)();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiX2FwcCIsIl9maXJlc3RvcmUiLCJfc3RvcmFnZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsImF1dGhEb21haW4iLCJkYXRhYmFzZVVSTCIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIm1lYXN1cmVtZW50SWQiLCJhcHBJZCIsImFwcCIsImluaXRpYWxpemVBcHAiLCJkYiIsImV4cG9ydHMiLCJnZXRGaXJlc3RvcmUiLCJzdG9yYWdlIiwiZ2V0U3RvcmFnZSJdLCJzb3VyY2VSb290IjoiRDpcXHplbl9iYWNrXFwiLCJzb3VyY2VzIjpbImNvbmZpZ19maXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcImRvdGVudi9jb25maWdcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xyXG5pbXBvcnQgeyBnZXRTdG9yYWdlfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5hcGlLZXksXHJcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuYXV0aERvbWFpbixcclxuICBkYXRhYmFzZVVSTDogcHJvY2Vzcy5lbnYuZGF0YWJhc2VVUkwsXHJcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5wcm9qZWN0SWQsXHJcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuc3RvcmFnZUJ1Y2tldCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYubWVhc3VyZW1lbnRJZCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuYXBpS2V5LFxyXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lm1lYXN1cmVtZW50SWQsXHJcbn07XHJcblxyXG5cclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcbmNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XHJcbmV4cG9ydCB7IGRiLCBzdG9yYWdlIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUFBLE9BQUE7QUFDQSxJQUFBQyxJQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFFQSxNQUFNSSxjQUFjLEdBQUc7RUFDckJDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE1BQU07RUFDMUJHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7RUFDbENDLFdBQVcsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFdBQVc7RUFDcENDLFNBQVMsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHLFNBQVM7RUFDaENDLGFBQWEsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWE7RUFDeENDLGlCQUFpQixFQUFFTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sYUFBYTtFQUM1Q0MsS0FBSyxFQUFFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsTUFBTTtFQUN6QlEsYUFBYSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ007QUFDN0IsQ0FBQztBQUdELE1BQU1FLEdBQUcsR0FBRyxJQUFBQyxrQkFBYSxFQUFDWixjQUFjLENBQUM7QUFDekMsTUFBTWEsRUFBRSxHQUFBQyxPQUFBLENBQUFELEVBQUEsR0FBRyxJQUFBRSx1QkFBWSxFQUFDSixHQUFHLENBQUM7QUFDNUIsTUFBTUssT0FBTyxHQUFBRixPQUFBLENBQUFFLE9BQUEsR0FBRyxJQUFBQyxtQkFBVSxFQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["require","_app","_firestore","_storage","firebaseConfig","apiKey","process","env","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","measurementId","appId","app","initializeApp","db","exports","getFirestore","storage","getStorage"],"sourceRoot":"D:\\zen_back\\","sources":["config_fire.js"],"sourcesContent":["import \"dotenv/config\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage} from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.apiKey,\r\n  authDomain: process.env.authDomain,\r\n  databaseURL: process.env.databaseURL,\r\n  projectId: process.env.projectId,\r\n  storageBucket: process.env.storageBucket,\r\n  messagingSenderId: process.env.measurementId,\r\n  appId: process.env.apiKey,\r\n  measurementId: process.env.measurementId,\r\n};\r\n\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage();\r\nexport { db, storage };\r\n"],"mappings":";;;;;;AAAAA,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAEA,MAAMI,cAAc,GAAG;EACrBC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACF,MAAM;EAC1BG,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACC,UAAU;EAClCC,WAAW,EAAEH,OAAO,CAACC,GAAG,CAACE,WAAW;EACpCC,SAAS,EAAEJ,OAAO,CAACC,GAAG,CAACG,SAAS;EAChCC,aAAa,EAAEL,OAAO,CAACC,GAAG,CAACI,aAAa;EACxCC,iBAAiB,EAAEN,OAAO,CAACC,GAAG,CAACM,aAAa;EAC5CC,KAAK,EAAER,OAAO,CAACC,GAAG,CAACF,MAAM;EACzBQ,aAAa,EAAEP,OAAO,CAACC,GAAG,CAACM;AAC7B,CAAC;AAGD,MAAME,GAAG,GAAG,IAAAC,kBAAa,EAACZ,cAAc,CAAC;AACzC,MAAMa,EAAE,GAAAC,OAAA,CAAAD,EAAA,GAAG,IAAAE,uBAAY,EAACJ,GAAG,CAAC;AAC5B,MAAMK,OAAO,GAAAF,OAAA,CAAAE,OAAA,GAAG,IAAAC,mBAAU,EAAC,CAAC","ignoreList":[]}},"mtime":1723758626287},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\meditations.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedFromCatById = exports.deleteMedFromCat = exports.addMedToCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nconst addMedToCat = async (req, res) => {\n  const data = {\n    category: req.body.category,\n    background: \"\",\n    title: req.body.title,\n    isLocked: Boolean(req.body.isLocked),\n    duration: req.body.duration,\n    meditationLink: \"\"\n  };\n  const uid = req.body.uid;\n  console.log(req.files[\"background\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"background\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"background\"].data);\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    const storageRef2 = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"meditationLink\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef2, req.files[\"meditationLink\"].data);\n    const url2 = await (0, _storage.getDownloadURL)(storageRef2);\n    data[\"meditationLink\"] = url2;\n    data[\"background\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    const cat = medcat.data();\n    cat.meditationRoutines.push(data);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedToCat = addMedToCat;\nconst deleteMedFromCat = async (req, res) => {\n  try {\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.body.id;\n    cat.meditationRoutines = cat.meditationRoutines.filter(obj => obj.id !== id);\n    // cat.meditationRoutines.push(data);\n    console.log(cat);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedFromCat = deleteMedFromCat;\nconst getMedFromCatById = async (req, res) => {\n  try {\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.params.id;\n    const rez = cat.meditationRoutines.filter(obj => obj.id === id);\n    res.status(200).json({\n      ok: true,\n      data: rez\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedFromCatById = getMedFromCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJhZGRNZWRUb0NhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeSIsImJvZHkiLCJiYWNrZ3JvdW5kIiwidGl0bGUiLCJpc0xvY2tlZCIsIkJvb2xlYW4iLCJkdXJhdGlvbiIsIm1lZGl0YXRpb25MaW5rIiwidWlkIiwiY29uc29sZSIsImxvZyIsImZpbGVzIiwic3RvcmFnZVJlZiIsInJlZiIsInN0b3JhZ2UiLCJuYW1lIiwidXBsb2FkQnl0ZXMiLCJ1cmwiLCJnZXREb3dubG9hZFVSTCIsInN0b3JhZ2VSZWYyIiwidXJsMiIsInV1aWQiLCJjYXRfcmVmIiwiZG9jIiwiZGIiLCJtZWRjYXQiLCJnZXREb2MiLCJjYXQiLCJtZWRpdGF0aW9uUm91dGluZXMiLCJwdXNoIiwidXBkYXRlRG9jIiwic3RhdHVzIiwianNvbiIsIm9rIiwiZXJyb3IiLCJleHBvcnRzIiwiZGVsZXRlTWVkRnJvbUNhdCIsImlkIiwiZmlsdGVyIiwib2JqIiwiZ2V0TWVkRnJvbUNhdEJ5SWQiLCJwYXJhbXMiLCJyZXoiXSwic291cmNlUm9vdCI6IkQ6XFx6ZW5fYmFja1xcbWVkaXRhdGlvbnNcXCIsInNvdXJjZXMiOlsibWVkaXRhdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVmLFxyXG4gIGdldERvd25sb2FkVVJMLFxyXG4gIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLFxyXG4gIHVwbG9hZEJ5dGVzLFxyXG59IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgYWRkTWVkVG9DYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxyXG4gICAgYmFja2dyb3VuZDogXCJcIixcclxuICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcclxuICAgIGlzTG9ja2VkOiBCb29sZWFuKHJlcS5ib2R5LmlzTG9ja2VkKSxcclxuICAgIGR1cmF0aW9uOiByZXEuYm9keS5kdXJhdGlvbixcclxuICAgIG1lZGl0YXRpb25MaW5rOiBcIlwiLFxyXG4gIH07XHJcbiAgY29uc3QgdWlkID0gcmVxLmJvZHkudWlkO1xyXG4gIGNvbnNvbGUubG9nKHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKFxyXG4gICAgICBzdG9yYWdlLFxyXG4gICAgICBgL21lZGl0YXRpb25zL21lZC8ke3JlcS5maWxlc1tcImJhY2tncm91bmRcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0uZGF0YSk7XHJcblxyXG4gICAgY29uc3QgdXJsID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZik7XHJcblxyXG4gICAgY29uc3Qgc3RvcmFnZVJlZjIgPSByZWYoXHJcbiAgICAgIHN0b3JhZ2UsXHJcbiAgICAgIGAvbWVkaXRhdGlvbnMvbWVkLyR7cmVxLmZpbGVzW1wibWVkaXRhdGlvbkxpbmtcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYyLCByZXEuZmlsZXNbXCJtZWRpdGF0aW9uTGlua1wiXS5kYXRhKTtcclxuXHJcbiAgICBjb25zdCB1cmwyID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZjIpO1xyXG5cclxuICAgIGRhdGFbXCJtZWRpdGF0aW9uTGlua1wiXSA9IHVybDI7XHJcbiAgICBkYXRhW1wiYmFja2dyb3VuZFwiXSA9IHVybDtcclxuICAgIGRhdGFbXCJpZFwiXSA9IHV1aWQoKTtcclxuXHJcbiAgICBjb25zdCBjYXRfcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCB1aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgY29uc3QgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNhdC5tZWRpdGF0aW9uUm91dGluZXMucHVzaChkYXRhKTtcclxuXHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoY2F0X3JlZiwgY2F0KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRGcm9tQ2F0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdF9yZWYgPSBkb2MoZGIsIFwiY2F0ZWdvcmllX21lZGl0YXRpXCIsIHJlcS5ib2R5LnVpZCk7XHJcbiAgICBjb25zdCBtZWRjYXQgPSBhd2FpdCBnZXREb2MoY2F0X3JlZik7XHJcbiAgICBsZXQgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjYXQubWVkaXRhdGlvblJvdXRpbmVzID0gY2F0Lm1lZGl0YXRpb25Sb3V0aW5lcy5maWx0ZXIoXHJcbiAgICAgIChvYmopID0+IG9iai5pZCAhPT0gaWRcclxuICAgICk7XHJcbiAgICAvLyBjYXQubWVkaXRhdGlvblJvdXRpbmVzLnB1c2goZGF0YSk7XHJcbiAgICBjb25zb2xlLmxvZyhjYXQpO1xyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGNhdF9yZWYsIGNhdCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3IgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0TWVkRnJvbUNhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0X3JlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgbGV0IGNhdCA9IG1lZGNhdC5kYXRhKCk7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCByZXogPSBjYXQubWVkaXRhdGlvblJvdXRpbmVzLmZpbHRlcigob2JqKSA9PiBvYmouaWQgPT09IGlkKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGRhdGE6IHJleiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7IGFkZE1lZFRvQ2F0LCBkZWxldGVNZWRGcm9tQ2F0LGdldE1lZEZyb21DYXRCeUlkIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FB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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","addMedToCat","req","res","data","category","body","background","title","isLocked","Boolean","duration","meditationLink","uid","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","storageRef2","url2","uuid","cat_ref","doc","db","medcat","getDoc","cat","meditationRoutines","push","updateDoc","status","json","ok","error","exports","deleteMedFromCat","id","filter","obj","getMedFromCatById","params","rez"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["meditations.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedToCat = async (req, res) => {\r\n  const data = {\r\n    category: req.body.category,\r\n    background: \"\",\r\n    title: req.body.title,\r\n    isLocked: Boolean(req.body.isLocked),\r\n    duration: req.body.duration,\r\n    meditationLink: \"\",\r\n  };\r\n  const uid = req.body.uid;\r\n  console.log(req.files[\"background\"]);\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"background\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef, req.files[\"background\"].data);\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n\r\n    const storageRef2 = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"meditationLink\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef2, req.files[\"meditationLink\"].data);\r\n\r\n    const url2 = await getDownloadURL(storageRef2);\r\n\r\n    data[\"meditationLink\"] = url2;\r\n    data[\"background\"] = url;\r\n    data[\"id\"] = uuid();\r\n\r\n    const cat_ref = doc(db, \"categorie_meditati\", uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    const cat = medcat.data();\r\n    cat.meditationRoutines.push(data);\r\n\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedFromCat = async (req, res) => {\r\n  try {\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.body.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.body.id;\r\n    cat.meditationRoutines = cat.meditationRoutines.filter(\r\n      (obj) => obj.id !== id\r\n    );\r\n    // cat.meditationRoutines.push(data);\r\n    console.log(cat);\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedFromCatById = async (req, res) => {\r\n  try {\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.params.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.params.id;\r\n    const rez = cat.meditationRoutines.filter((obj) => obj.id === id);\r\n    res.status(200).json({ ok: true, data: rez });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMedToCat, deleteMedFromCat,getMedFromCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723888963487},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\zen_back\\\\meditations\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\zen_back\",\"filename\":\"D:\\\\zen_back\\\\meditations\\\\meditations.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\zen_back\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.25.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMedFromCatById = exports.deleteMedFromCat = exports.addMedToCat = void 0;\nvar _config_fire = require(\"../config_fire\");\nvar _firestore = require(\"firebase/firestore\");\nvar _storage = require(\"firebase/storage\");\nvar _uuid = require(\"uuid\");\nconst addMedToCat = async (req, res) => {\n  const data = {\n    category: req.body.category,\n    background: \"\",\n    title: req.body.title,\n    isLocked: Boolean(req.body.isLocked),\n    duration: req.body.duration,\n    meditationLink: \"\"\n  };\n  const uid = req.body.uid;\n  console.log(req.files[\"background\"]);\n  try {\n    const storageRef = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"background\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef, req.files[\"background\"].data);\n    const url = await (0, _storage.getDownloadURL)(storageRef);\n    const storageRef2 = (0, _storage.ref)(_config_fire.storage, `/meditations/med/${req.files[\"meditationLink\"].name}`);\n    await (0, _storage.uploadBytes)(storageRef2, req.files[\"meditationLink\"].data);\n    const url2 = await (0, _storage.getDownloadURL)(storageRef2);\n    data[\"meditationLink\"] = url2;\n    data[\"background\"] = url;\n    data[\"id\"] = (0, _uuid.v4)();\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    const cat = medcat.data();\n    cat.meditationRoutines.push(data);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.addMedToCat = addMedToCat;\nconst deleteMedFromCat = async (req, res) => {\n  try {\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.body.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.body.id;\n    cat.meditationRoutines = cat.meditationRoutines.filter(obj => obj.id !== id);\n    // cat.meditationRoutines.push(data);\n    console.log(cat);\n    await (0, _firestore.updateDoc)(cat_ref, cat);\n    res.status(200).json({\n      ok: true\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.deleteMedFromCat = deleteMedFromCat;\nconst getMedFromCatById = async (req, res) => {\n  try {\n    console.log(req.params.uid);\n    const cat_ref = (0, _firestore.doc)(_config_fire.db, \"categorie_meditati\", req.params.uid);\n    const medcat = await (0, _firestore.getDoc)(cat_ref);\n    let cat = medcat.data();\n    const id = req.params.id;\n    const rez = cat.meditationRoutines.filter(obj => obj.id === id);\n    res.status(200).json({\n      ok: true,\n      data: rez\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).json({\n      ok: false,\n      error\n    });\n  }\n};\nexports.getMedFromCatById = getMedFromCatById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnX2ZpcmUiLCJyZXF1aXJlIiwiX2ZpcmVzdG9yZSIsIl9zdG9yYWdlIiwiX3V1aWQiLCJhZGRNZWRUb0NhdCIsInJlcSIsInJlcyIsImRhdGEiLCJjYXRlZ29yeSIsImJvZHkiLCJiYWNrZ3JvdW5kIiwidGl0bGUiLCJpc0xvY2tlZCIsIkJvb2xlYW4iLCJkdXJhdGlvbiIsIm1lZGl0YXRpb25MaW5rIiwidWlkIiwiY29uc29sZSIsImxvZyIsImZpbGVzIiwic3RvcmFnZVJlZiIsInJlZiIsInN0b3JhZ2UiLCJuYW1lIiwidXBsb2FkQnl0ZXMiLCJ1cmwiLCJnZXREb3dubG9hZFVSTCIsInN0b3JhZ2VSZWYyIiwidXJsMiIsInV1aWQiLCJjYXRfcmVmIiwiZG9jIiwiZGIiLCJtZWRjYXQiLCJnZXREb2MiLCJjYXQiLCJtZWRpdGF0aW9uUm91dGluZXMiLCJwdXNoIiwidXBkYXRlRG9jIiwic3RhdHVzIiwianNvbiIsIm9rIiwiZXJyb3IiLCJleHBvcnRzIiwiZGVsZXRlTWVkRnJvbUNhdCIsImlkIiwiZmlsdGVyIiwib2JqIiwiZ2V0TWVkRnJvbUNhdEJ5SWQiLCJwYXJhbXMiLCJyZXoiXSwic291cmNlUm9vdCI6IkQ6XFx6ZW5fYmFja1xcbWVkaXRhdGlvbnNcXCIsInNvdXJjZXMiOlsibWVkaXRhdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIsIHN0b3JhZ2UgfSBmcm9tIFwiLi4vY29uZmlnX2ZpcmVcIjtcclxuaW1wb3J0IHtcclxuICBhZGREb2MsXHJcbiAgY29sbGVjdGlvbixcclxuICBkZWxldGVEb2MsXHJcbiAgZG9jLFxyXG4gIGdldERvYyxcclxuICBnZXREb2NzLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVmLFxyXG4gIGdldERvd25sb2FkVVJMLFxyXG4gIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLFxyXG4gIHVwbG9hZEJ5dGVzLFxyXG59IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuY29uc3QgYWRkTWVkVG9DYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxyXG4gICAgYmFja2dyb3VuZDogXCJcIixcclxuICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcclxuICAgIGlzTG9ja2VkOiBCb29sZWFuKHJlcS5ib2R5LmlzTG9ja2VkKSxcclxuICAgIGR1cmF0aW9uOiByZXEuYm9keS5kdXJhdGlvbixcclxuICAgIG1lZGl0YXRpb25MaW5rOiBcIlwiLFxyXG4gIH07XHJcbiAgY29uc3QgdWlkID0gcmVxLmJvZHkudWlkO1xyXG4gIGNvbnNvbGUubG9nKHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKFxyXG4gICAgICBzdG9yYWdlLFxyXG4gICAgICBgL21lZGl0YXRpb25zL21lZC8ke3JlcS5maWxlc1tcImJhY2tncm91bmRcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIHJlcS5maWxlc1tcImJhY2tncm91bmRcIl0uZGF0YSk7XHJcblxyXG4gICAgY29uc3QgdXJsID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZik7XHJcblxyXG4gICAgY29uc3Qgc3RvcmFnZVJlZjIgPSByZWYoXHJcbiAgICAgIHN0b3JhZ2UsXHJcbiAgICAgIGAvbWVkaXRhdGlvbnMvbWVkLyR7cmVxLmZpbGVzW1wibWVkaXRhdGlvbkxpbmtcIl0ubmFtZX1gXHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYyLCByZXEuZmlsZXNbXCJtZWRpdGF0aW9uTGlua1wiXS5kYXRhKTtcclxuXHJcbiAgICBjb25zdCB1cmwyID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZjIpO1xyXG5cclxuICAgIGRhdGFbXCJtZWRpdGF0aW9uTGlua1wiXSA9IHVybDI7XHJcbiAgICBkYXRhW1wiYmFja2dyb3VuZFwiXSA9IHVybDtcclxuICAgIGRhdGFbXCJpZFwiXSA9IHV1aWQoKTtcclxuXHJcbiAgICBjb25zdCBjYXRfcmVmID0gZG9jKGRiLCBcImNhdGVnb3JpZV9tZWRpdGF0aVwiLCB1aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgY29uc3QgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNhdC5tZWRpdGF0aW9uUm91dGluZXMucHVzaChkYXRhKTtcclxuXHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoY2F0X3JlZiwgY2F0KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVNZWRGcm9tQ2F0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdF9yZWYgPSBkb2MoZGIsIFwiY2F0ZWdvcmllX21lZGl0YXRpXCIsIHJlcS5ib2R5LnVpZCk7XHJcbiAgICBjb25zdCBtZWRjYXQgPSBhd2FpdCBnZXREb2MoY2F0X3JlZik7XHJcbiAgICBsZXQgY2F0ID0gbWVkY2F0LmRhdGEoKTtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQ7XHJcbiAgICBjYXQubWVkaXRhdGlvblJvdXRpbmVzID0gY2F0Lm1lZGl0YXRpb25Sb3V0aW5lcy5maWx0ZXIoXHJcbiAgICAgIChvYmopID0+IG9iai5pZCAhPT0gaWRcclxuICAgICk7XHJcbiAgICAvLyBjYXQubWVkaXRhdGlvblJvdXRpbmVzLnB1c2goZGF0YSk7XHJcbiAgICBjb25zb2xlLmxvZyhjYXQpO1xyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGNhdF9yZWYsIGNhdCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3IgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0TWVkRnJvbUNhdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2cocmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgY2F0X3JlZiA9IGRvYyhkYiwgXCJjYXRlZ29yaWVfbWVkaXRhdGlcIiwgcmVxLnBhcmFtcy51aWQpO1xyXG4gICAgY29uc3QgbWVkY2F0ID0gYXdhaXQgZ2V0RG9jKGNhdF9yZWYpO1xyXG4gICAgbGV0IGNhdCA9IG1lZGNhdC5kYXRhKCk7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCByZXogPSBjYXQubWVkaXRhdGlvblJvdXRpbmVzLmZpbHRlcigob2JqKSA9PiBvYmouaWQgPT09IGlkKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGRhdGE6IHJleiB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBvazogZmFsc2UsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7IGFkZE1lZFRvQ2F0LCBkZWxldGVNZWRGcm9tQ2F0LCBnZXRNZWRGcm9tQ2F0QnlJZCB9O1xyXG4iXSwibWFwcGluZ3Mi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","map":{"version":3,"names":["_config_fire","require","_firestore","_storage","_uuid","addMedToCat","req","res","data","category","body","background","title","isLocked","Boolean","duration","meditationLink","uid","console","log","files","storageRef","ref","storage","name","uploadBytes","url","getDownloadURL","storageRef2","url2","uuid","cat_ref","doc","db","medcat","getDoc","cat","meditationRoutines","push","updateDoc","status","json","ok","error","exports","deleteMedFromCat","id","filter","obj","getMedFromCatById","params","rez"],"sourceRoot":"D:\\zen_back\\meditations\\","sources":["meditations.js"],"sourcesContent":["import { db, storage } from \"../config_fire\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  ref,\r\n  getDownloadURL,\r\n  uploadBytesResumable,\r\n  uploadBytes,\r\n} from \"firebase/storage\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nconst addMedToCat = async (req, res) => {\r\n  const data = {\r\n    category: req.body.category,\r\n    background: \"\",\r\n    title: req.body.title,\r\n    isLocked: Boolean(req.body.isLocked),\r\n    duration: req.body.duration,\r\n    meditationLink: \"\",\r\n  };\r\n  const uid = req.body.uid;\r\n  console.log(req.files[\"background\"]);\r\n  try {\r\n    const storageRef = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"background\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef, req.files[\"background\"].data);\r\n\r\n    const url = await getDownloadURL(storageRef);\r\n\r\n    const storageRef2 = ref(\r\n      storage,\r\n      `/meditations/med/${req.files[\"meditationLink\"].name}`\r\n    );\r\n\r\n    await uploadBytes(storageRef2, req.files[\"meditationLink\"].data);\r\n\r\n    const url2 = await getDownloadURL(storageRef2);\r\n\r\n    data[\"meditationLink\"] = url2;\r\n    data[\"background\"] = url;\r\n    data[\"id\"] = uuid();\r\n\r\n    const cat_ref = doc(db, \"categorie_meditati\", uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    const cat = medcat.data();\r\n    cat.meditationRoutines.push(data);\r\n\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst deleteMedFromCat = async (req, res) => {\r\n  try {\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.body.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.body.id;\r\n    cat.meditationRoutines = cat.meditationRoutines.filter(\r\n      (obj) => obj.id !== id\r\n    );\r\n    // cat.meditationRoutines.push(data);\r\n    console.log(cat);\r\n    await updateDoc(cat_ref, cat);\r\n    res.status(200).json({ ok: true });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nconst getMedFromCatById = async (req, res) => {\r\n  try {\r\n    console.log(req.params.uid);\r\n    const cat_ref = doc(db, \"categorie_meditati\", req.params.uid);\r\n    const medcat = await getDoc(cat_ref);\r\n    let cat = medcat.data();\r\n    const id = req.params.id;\r\n    const rez = cat.meditationRoutines.filter((obj) => obj.id === id);\r\n    res.status(200).json({ ok: true, data: rez });\r\n  } catch (error) {\r\n    console.log(error);\r\n    res.status(500).json({ ok: false, error });\r\n  }\r\n};\r\n\r\nexport { addMedToCat, deleteMedFromCat, getMedFromCatById };\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1723889240541}}